Started GET "/" for 127.0.0.1 at 2021-11-04 18:03:53 +0000
  
ActiveRecord::ConnectionNotEstablished (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/var/run/postgresql/.s.PGSQL.5432"?
):
  
activerecord (6.1.4.1) lib/active_record/connection_adapters/postgresql_adapter.rb:83:in `rescue in new_client'
activerecord (6.1.4.1) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.4.1) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.4.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.4.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.4.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.4.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.4.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.4.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.4.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.4.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.4.1) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.4.1) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.4.1) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.4.1) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.4.1) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.4.1) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.4.1) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.4.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.4.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.4.1) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.4.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.4.1) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.4.1) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.4.1) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.4.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.4.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.4.1) lib/action_dispatch/middleware/host_authorization.rb:98:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (6.1.4.1) lib/rails/engine.rb:539:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (102.9ms)[0m  [1m[35mCREATE DATABASE "sample_app_development" ENCODING = 'unicode'[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE DATABASE "sample_app_development" ENCODING = 'unicode'[0m
Started GET "/" for 127.0.0.1 at 2021-11-04 18:16:03 +0000
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/bundle/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/bundle/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.5ms | Allocations: 330)
Completed 200 OK in 51ms (Views: 13.9ms | ActiveRecord: 0.0ms | Allocations: 2837)


Started GET "/" for 127.0.0.1 at 2021-11-04 18:16:41 +0000
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/bundle/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/bundle/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 5.7ms | Allocations: 216)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 832)


Started GET "/" for 127.0.0.1 at 2021-11-04 18:22:19 +0000
Processing by Rails::WelcomeController#index as HTML
  Rendering /usr/local/bundle/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /usr/local/bundle/gems/railties-6.1.4.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.2ms | Allocations: 330)
Completed 200 OK in 28ms (Views: 14.4ms | ActiveRecord: 0.0ms | Allocations: 2433)


Started GET "/" for 127.0.0.1 at 2024-07-24 19:11:47 -0500
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting with your hostname: db.

Please check your database configuration and ensure there is a valid connection to your database.
):
  
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `rescue in new_client'
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:68:in `new_client'
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:980:in `connect'
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:992:in `reconnect'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:685:in `block in reconnect!'
activesupport (7.1.3.4) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:684:in `reconnect!'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:788:in `verify!'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:795:in `connect!'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:1001:in `block in with_raw_connection'
activesupport (7.1.3.4) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:1000:in `with_raw_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:1113:in `valid_raw_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `get_database_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:374:in `database_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:70:in `database_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:200:in `database_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:871:in `database_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:644:in `check_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:678:in `new_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:723:in `checkout_new_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:702:in `try_to_checkout_new_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:654:in `acquire_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `checkout'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:182:in `connection'
activerecord (7.1.3.4) lib/active_record/migration/pending_migration_connection.rb:8:in `establish_temporary_connection'
activerecord (7.1.3.4) lib/active_record/migration.rb:774:in `block in pending_migrations'
activerecord (7.1.3.4) lib/active_record/migration.rb:773:in `each'
activerecord (7.1.3.4) lib/active_record/migration.rb:773:in `pending_migrations'
activerecord (7.1.3.4) lib/active_record/migration.rb:752:in `check_pending_migrations'
activerecord (7.1.3.4) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.3.4) lib/active_support/evented_file_update_checker.rb:63:in `execute'
activerecord (7.1.3.4) lib/active_record/migration.rb:649:in `block in call'
activerecord (7.1.3.4) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.3.4) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.1) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/method_override.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (7.1.3.4) lib/rails/engine.rb:536:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2024-07-24 19:27:21 -0500
  
ActiveRecord::DatabaseConnectionError (There is an issue connecting with your hostname: db.

Please check your database configuration and ensure there is a valid connection to your database.
):
  
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:78:in `rescue in new_client'
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:68:in `new_client'
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:980:in `connect'
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:992:in `reconnect'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:685:in `block in reconnect!'
activesupport (7.1.3.4) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:684:in `reconnect!'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:788:in `verify!'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:795:in `connect!'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:1001:in `block in with_raw_connection'
activesupport (7.1.3.4) lib/active_support/concurrency/null_lock.rb:9:in `synchronize'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:1000:in `with_raw_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:1113:in `valid_raw_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:616:in `get_database_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:374:in `database_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:70:in `database_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/schema_cache.rb:200:in `database_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract_adapter.rb:871:in `database_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/postgresql_adapter.rb:644:in `check_version'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:678:in `new_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:723:in `checkout_new_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:702:in `try_to_checkout_new_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:654:in `acquire_connection'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:353:in `checkout'
activerecord (7.1.3.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:182:in `connection'
activerecord (7.1.3.4) lib/active_record/migration/pending_migration_connection.rb:8:in `establish_temporary_connection'
activerecord (7.1.3.4) lib/active_record/migration.rb:774:in `block in pending_migrations'
activerecord (7.1.3.4) lib/active_record/migration.rb:773:in `each'
activerecord (7.1.3.4) lib/active_record/migration.rb:773:in `pending_migrations'
activerecord (7.1.3.4) lib/active_record/migration.rb:752:in `check_pending_migrations'
activerecord (7.1.3.4) lib/active_record/migration.rb:644:in `block (2 levels) in call'
activesupport (7.1.3.4) lib/active_support/evented_file_update_checker.rb:63:in `execute'
activerecord (7.1.3.4) lib/active_record/migration.rb:649:in `block in call'
activerecord (7.1.3.4) lib/active_record/migration.rb:641:in `synchronize'
activerecord (7.1.3.4) lib/active_record/migration.rb:641:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.1) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/method_override.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (7.1.3.4) lib/rails/engine.rb:536:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (0.8ms)[0m  [1m[35mCREATE DATABASE "sample_app_development" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE DATABASE "sample_app_test" ENCODING = 'unicode'[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-07-25 00:39:10.961813', '2024-07-25 00:39:10.961815') RETURNING "key"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2024-07-24 19:39:19 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/mchavez76/.asdf/installs/ruby/3.0.6/lib/ruby/gems/3.0.0/gems/railties-7.1.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/mchavez76/.asdf/installs/ruby/3.0.6/lib/ruby/gems/3.0.0/gems/railties-7.1.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.4ms | Allocations: 413)
Completed 200 OK in 10ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 5358)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreatePatients (20240725004743)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "patients" ("id" bigserial primary key, "name" character varying, "contact_info" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240725004743') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTransactions (20240725004816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "patient_id" bigint NOT NULL, "procedure_code" character varying, "charge" decimal, "credit" decimal, "balance" decimal, "date" timestamp(6), "performed_by" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_688a36e642"
FOREIGN KEY ("patient_id")
  REFERENCES "patients" ("id")
)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_patient_id" ON "transactions" ("patient_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240725004816') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2024-07-24 19:52:42 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/mchavez76/.asdf/installs/ruby/3.0.6/lib/ruby/gems/3.0.0/gems/railties-7.1.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/mchavez76/.asdf/installs/ruby/3.0.6/lib/ruby/gems/3.0.0/gems/railties-7.1.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.5ms | Allocations: 412)
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.0ms | Allocations: 4896)


Started GET "/index" for 127.0.0.1 at 2024-07-24 19:52:53 -0500
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 19:53:51 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/mchavez76/.asdf/installs/ruby/3.0.6/lib/ruby/gems/3.0.0/gems/railties-7.1.3.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/mchavez76/.asdf/installs/ruby/3.0.6/lib/ruby/gems/3.0.0/gems/railties-7.1.3.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 0.5ms | Allocations: 413)
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 5413)


Started GET "/index" for 127.0.0.1 at 2024-07-24 19:53:56 -0500
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 19:56:15 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 3467)


  
NameError (uninitialized constant DashboardController::Patient):
  
app/controllers/dashboard_controller.rb:3:in `index'
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransactions (20240725004816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mDROP TABLE "transactions"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240725004816'[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateTransactions (20240725004816)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "patient_id" bigint NOT NULL, "procedure_code" character varying, "charge" decimal(10,2), "credit" decimal(10,2), "date" timestamp(6), "performed_by" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_688a36e642"
FOREIGN KEY ("patient_id")
  REFERENCES "patients" ("id")
)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_patient_id" ON "transactions" ("patient_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240725004816') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2024-07-24 20:02:11 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 8459)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
yarn run v1.22.19
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.


error Command "webpack" not found.

  Rendered layout layouts/application.html.erb (Duration: 1014.1ms | Allocations: 53267)
Completed 500 Internal Server Error in 1054ms (ActiveRecord: 13.6ms | Allocations: 71012)


  
ActionView::Template::Error (Webpacker can't find application.js in /home/mchavez76/apex/sample-rails-app/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
}
):
     7:     <%= csp_meta_tag %>
     8: 
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    11:   </head>
    12: 
    13:   <body>
  
app/views/layouts/application.html.erb:10
Started GET "/" for 127.0.0.1 at 2024-07-24 20:07:37 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.1ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 6942)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: 554000009b71bcff4a54
Version: webpack 4.47.0
Time: 192ms
Built at: 07/24/2024 8:07:38 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-929a001acda50d2860e5.js   9.01 KiB  application  [emitted] [immutable]  application
js/application-929a001acda50d2860e5.js.map   3.53 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-929a001acda50d2860e5.js js/application-929a001acda50d2860e5.js.map
[./app/javascript/packs/application.js] 5.12 KiB {application} [built] [failed] [1 error]

ERROR in ./app/javascript/packs/application.js
Module build failed (from ./node_modules/babel-loader/lib/index.js):
Error: Cannot find package '@babel/plugin-proposal-private-methods' imported from /home/mchavez76/apex/sample-rails-app/babel-virtual-resolve-base.js
    at new NodeError (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:195:5)
    at packageResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:899:9)
    at moduleResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:939:18)
    at defaultResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:1017:15)
    at resolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:1030:12)
    at tryImportMetaResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:142:45)
    at resolveStandardizedNameForImport (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:164:19)
    at resolveStandardizedName (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:173:22)
    at loadPlugin (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:52:20)
    at loadPlugin.next (<anonymous>)
    at createDescriptor (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:140:16)
    at createDescriptor.next (<anonymous>)
    at step (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:261:32)
    at evaluateAsync (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:291:5)
    at /home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:44:11
    at Array.forEach (<anonymous>)
    at Function.async (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:43:15)
    at Function.all (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:216:13)
    at Generator.next (<anonymous>)
    at createDescriptors (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:102:41)
    at createDescriptors.next (<anonymous>)
    at createPluginDescriptors (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:99:17)
    at createPluginDescriptors.next (<anonymous>)
    at /home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/gensync-utils/functional.js:39:27
    at Generator.next (<anonymous>)
    at mergeChainOpts (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:349:34)
    at mergeChainOpts.next (<anonymous>)
    at chainWalker (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:316:14)
    at chainWalker.next (<anonymous>)
    at loadFileChain (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:191:24)
    at loadFileChain.next (<anonymous>)
    at buildRootChain (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:77:27)
    at buildRootChain.next (<anonymous>)
    at loadPrivatePartialConfig (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/partial.js:72:62)
    at loadPrivatePartialConfig.next (<anonymous>)
    at loadPartialConfig (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/partial.js:115:25)
    at loadPartialConfig.next (<anonymous>)
    at step (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:269:25)
    at evaluateAsync (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:291:5)
    at /home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:93:9
    at new Promise (<anonymous>)
    at async (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:92:14)
    at stopHiding - secret - don't use this - v1 (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/errors/rewrite-stack-trace.js:47:12)
    at loadPartialConfigAsync (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/index.js:34:85)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:126:26)
    at Generator.next (<anonymous>)
    at asyncGeneratorStep (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:3:103)
    at _next (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:194)
    at /home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:364
    at new Promise (<anonymous>)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:97)
    at Object._loader (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:210:18)
    at Object.loader (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:48:18)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:44:12)

  Rendered layout layouts/application.html.erb (Duration: 1115.6ms | Allocations: 20244)
Completed 200 OK in 1146ms (Views: 1110.9ms | ActiveRecord: 12.7ms | Allocations: 35274)


Started GET "/index" for 127.0.0.1 at 2024-07-24 20:07:51 -0500
  
ActionController::RoutingError (No route matches [GET] "/index"):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 20:07:53 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1238)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 4195)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 1.5ms | Allocations: 4719)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:08:23 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1085)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 3880)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 2.0ms | Allocations: 4280)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:08:54 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1085)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 3879)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 1.5ms | Allocations: 4273)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:09:25 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 3875)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 1.6ms | Allocations: 4263)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:09:56 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 3878)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 1.4ms | Allocations: 4268)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:10:27 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 3879)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 1.4ms | Allocations: 4267)


Started GET "/new" for 127.0.0.1 at 2024-07-24 20:10:32 -0500
  
ActionController::RoutingError (No route matches [GET] "/new"):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 20:10:39 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1083)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 3885)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 1.2ms | Allocations: 4275)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:11:09 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 3881)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 1.0ms | Allocations: 4271)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:17:39 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.1ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 6941)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 40.3ms | Allocations: 19103)
Completed 200 OK in 73ms (Views: 34.4ms | ActiveRecord: 15.7ms | Allocations: 34134)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:17:53 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4145)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 4237)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 1.8ms | Allocations: 14747)


  
ActionView::Template::Error (undefined method `transactions_path' for #<ActionView::Base:0x0000000000a730>):
    1: <h1>New Payment</h1>
    2: <%= form_with model: @payment, local: true do |form| %>
    3:   <div class="field">
    4:     <%= form.label :patient_id %>
    5:     <%= form.number_field :patient_id %>
  
app/views/payments/new.html.erb:2
Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:19:45 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 10.7ms | Allocations: 5850)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 8999)
Completed 200 OK in 24ms (Views: 16.4ms | ActiveRecord: 2.8ms | Allocations: 15654)


Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:20:21 -0500
  
ActionController::RoutingError (uninitialized constant TransactionsController):
  
Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:22:03 -0500
  
ActionController::RoutingError (uninitialized constant TransactionsController):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 20:24:33 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 6845)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 6971)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 4.9ms | Allocations: 22104)


  
ActionView::Template::Error (Missing model class Transaction for the Patient#transactions association. You can specify a different model class with the :class_name option.):
     9:     </tr>
    10:   </thead>
    11:   <tbody>
    12:     <% @patients.each do |patient| %>
    13:       <tr>
    14:         <td><%= patient.name %></td>
    15:         <td><%= patient.contact_info %></td>
  
app/views/dashboard/index.html.erb:12
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2024-07-24 20:26:44 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 6960)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 19121)
Completed 200 OK in 50ms (Views: 21.8ms | ActiveRecord: 11.4ms | Allocations: 34152)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:26:57 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 9080)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 11916)
Completed 200 OK in 12ms (Views: 5.8ms | ActiveRecord: 2.3ms | Allocations: 22292)


Started GET "/transactions" for 127.0.0.1 at 2024-07-24 20:27:04 -0500
  
AbstractController::ActionNotFound (The action 'index' could not be found for TransactionsController):
  
actionpack (7.1.3.4) lib/abstract_controller/base.rb:155:in `process'
actionview (7.1.3.4) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.3.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.3.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/content_security_policy.rb:33:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.3.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.1) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/method_override.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (7.1.3.4) lib/rails/engine.rb:536:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:27:08 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 6781)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 9582)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 10051)


Started POST "/payments/new" for 127.0.0.1 at 2024-07-24 20:27:16 -0500
  
ActionController::RoutingError (No route matches [POST] "/payments/new"):
  
Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:27:39 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 6743)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 9539)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms | Allocations: 9961)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2024-07-24 20:29:17 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 6940)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 32.8ms | Allocations: 19142)
Completed 200 OK in 65ms (Views: 26.9ms | ActiveRecord: 14.9ms | Allocations: 34173)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:29:22 -0500
  
SyntaxError (/home/mchavez76/apex/sample-rails-app/app/controllers/payments_controller.rb:20: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/payments_controller.rb:20: syntax error, unexpected end-of-input, expecting `end'
Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:29:39 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 5268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 8475)
Completed 200 OK in 16ms (Views: 7.5ms | ActiveRecord: 2.7ms | Allocations: 20587)


Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:29:41 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "transaction"=>{"patient_id"=>"", "charge"=>"", "credit"=>"", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"01", "date(5i)"=>"29", "performed_by"=>""}, "commit"=>"Create Transaction"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 1ms (ActiveRecord: 0.0ms | Allocations: 782)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:293:in `handle_unverified_request'
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:388:in `handle_unverified_request'
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:377:in `verify_authenticity_token'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:403:in `block in make_lambda'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:202:in `block (2 levels) in halting'
actionpack (7.1.3.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:203:in `block in halting'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.3.4) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.3.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.3.4) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.3.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.3.4) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.3.4) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.3.4) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.3.4) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.3.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.3.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/content_security_policy.rb:33:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.3.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.1) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/method_override.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (7.1.3.4) lib/rails/engine.rb:536:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:29:47 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 3022)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 5932)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms | Allocations: 6345)


Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:29:55 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "transaction"=>{"patient_id"=>"1", "charge"=>"0.01", "credit"=>"0.01", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"01", "date(5i)"=>"29", "performed_by"=>"Mike"}, "commit"=>"Create Transaction"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 0ms (ActiveRecord: 0.0ms | Allocations: 587)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:293:in `handle_unverified_request'
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:388:in `handle_unverified_request'
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:377:in `verify_authenticity_token'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:403:in `block in make_lambda'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:202:in `block (2 levels) in halting'
actionpack (7.1.3.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:203:in `block in halting'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.3.4) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.3.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.3.4) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.3.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.3.4) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.3.4) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.3.4) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.3.4) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.3.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.3.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/content_security_policy.rb:33:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.3.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.1) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/method_override.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (7.1.3.4) lib/rails/engine.rb:536:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started POST "/payments/new" for 127.0.0.1 at 2024-07-24 20:32:54 -0500
  
ActionController::RoutingError (No route matches [POST] "/payments/new"):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 20:33:04 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 6940)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: 554000009b71bcff4a54
Version: webpack 4.47.0
Time: 236ms
Built at: 07/24/2024 8:33:06 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-929a001acda50d2860e5.js   9.01 KiB  application  [emitted] [immutable]  application
js/application-929a001acda50d2860e5.js.map   3.53 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-929a001acda50d2860e5.js js/application-929a001acda50d2860e5.js.map
[./app/javascript/packs/application.js] 5.12 KiB {application} [built] [failed] [1 error]

ERROR in ./app/javascript/packs/application.js
Module build failed (from ./node_modules/babel-loader/lib/index.js):
Error: Cannot find package '@babel/plugin-proposal-private-methods' imported from /home/mchavez76/apex/sample-rails-app/babel-virtual-resolve-base.js
    at new NodeError (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:195:5)
    at packageResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:899:9)
    at moduleResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:939:18)
    at defaultResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:1017:15)
    at resolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:1030:12)
    at tryImportMetaResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:142:45)
    at resolveStandardizedNameForImport (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:164:19)
    at resolveStandardizedName (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:173:22)
    at loadPlugin (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:52:20)
    at loadPlugin.next (<anonymous>)
    at createDescriptor (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:140:16)
    at createDescriptor.next (<anonymous>)
    at step (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:261:32)
    at evaluateAsync (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:291:5)
    at /home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:44:11
    at Array.forEach (<anonymous>)
    at Function.async (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:43:15)
    at Function.all (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:216:13)
    at Generator.next (<anonymous>)
    at createDescriptors (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:102:41)
    at createDescriptors.next (<anonymous>)
    at createPluginDescriptors (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:99:17)
    at createPluginDescriptors.next (<anonymous>)
    at /home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/gensync-utils/functional.js:39:27
    at Generator.next (<anonymous>)
    at mergeChainOpts (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:349:34)
    at mergeChainOpts.next (<anonymous>)
    at chainWalker (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:316:14)
    at chainWalker.next (<anonymous>)
    at loadFileChain (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:191:24)
    at loadFileChain.next (<anonymous>)
    at buildRootChain (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:77:27)
    at buildRootChain.next (<anonymous>)
    at loadPrivatePartialConfig (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/partial.js:72:62)
    at loadPrivatePartialConfig.next (<anonymous>)
    at loadPartialConfig (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/partial.js:115:25)
    at loadPartialConfig.next (<anonymous>)
    at step (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:269:25)
    at evaluateAsync (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:291:5)
    at /home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:93:9
    at new Promise (<anonymous>)
    at async (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:92:14)
    at stopHiding - secret - don't use this - v1 (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/errors/rewrite-stack-trace.js:47:12)
    at loadPartialConfigAsync (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/index.js:34:85)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:126:26)
    at Generator.next (<anonymous>)
    at asyncGeneratorStep (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:3:103)
    at _next (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:194)
    at /home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:364
    at new Promise (<anonymous>)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:97)
    at Object._loader (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:210:18)
    at Object.loader (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:48:18)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:44:12)

  Rendered layout layouts/application.html.erb (Duration: 1384.7ms | Allocations: 20331)
Completed 200 OK in 1412ms (Views: 1378.7ms | ActiveRecord: 12.9ms | Allocations: 35362)


Started POST "/your-endpoint" for 127.0.0.1 at 2024-07-24 20:33:06 -0500
  
ActionController::RoutingError (No route matches [POST] "/your-endpoint"):
  
Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:33:16 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 5119)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 8078)
Completed 200 OK in 14ms (Views: 7.2ms | ActiveRecord: 1.4ms | Allocations: 18456)


Started POST "/your-endpoint" for 127.0.0.1 at 2024-07-24 20:33:16 -0500
  
ActionController::RoutingError (No route matches [POST] "/your-endpoint"):
  
Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:33:24 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "transaction"=>{"patient_id"=>"1", "charge"=>"0.01", "credit"=>"0.01", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"01", "date(5i)"=>"33", "performed_by"=>"Mike"}, "commit"=>"Create Transaction"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 0ms (ActiveRecord: 0.0ms | Allocations: 782)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:293:in `handle_unverified_request'
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:388:in `handle_unverified_request'
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:377:in `verify_authenticity_token'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:403:in `block in make_lambda'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:202:in `block (2 levels) in halting'
actionpack (7.1.3.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:203:in `block in halting'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.3.4) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.3.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.3.4) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.3.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.3.4) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.3.4) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.3.4) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.3.4) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.3.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.3.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/content_security_policy.rb:33:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.3.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.1) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/method_override.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (7.1.3.4) lib/rails/engine.rb:536:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2024-07-24 20:36:34 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 8462)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: 554000009b71bcff4a54
Version: webpack 4.47.0
Time: 169ms
Built at: 07/24/2024 8:36:35 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-929a001acda50d2860e5.js   9.01 KiB  application  [emitted] [immutable]  application
js/application-929a001acda50d2860e5.js.map   3.53 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-929a001acda50d2860e5.js js/application-929a001acda50d2860e5.js.map
[./app/javascript/packs/application.js] 5.12 KiB {application} [built] [failed] [1 error]

ERROR in ./app/javascript/packs/application.js
Module build failed (from ./node_modules/babel-loader/lib/index.js):
Error: Cannot find package '@babel/plugin-proposal-private-methods' imported from /home/mchavez76/apex/sample-rails-app/babel-virtual-resolve-base.js
    at new NodeError (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:195:5)
    at packageResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:899:9)
    at moduleResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:939:18)
    at defaultResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:1017:15)
    at resolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:1030:12)
    at tryImportMetaResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:142:45)
    at resolveStandardizedNameForImport (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:164:19)
    at resolveStandardizedName (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:173:22)
    at loadPlugin (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:52:20)
    at loadPlugin.next (<anonymous>)
    at createDescriptor (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:140:16)
    at createDescriptor.next (<anonymous>)
    at step (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:261:32)
    at evaluateAsync (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:291:5)
    at /home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:44:11
    at Array.forEach (<anonymous>)
    at Function.async (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:43:15)
    at Function.all (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:216:13)
    at Generator.next (<anonymous>)
    at createDescriptors (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:102:41)
    at createDescriptors.next (<anonymous>)
    at createPluginDescriptors (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:99:17)
    at createPluginDescriptors.next (<anonymous>)
    at /home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/gensync-utils/functional.js:39:27
    at Generator.next (<anonymous>)
    at mergeChainOpts (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:349:34)
    at mergeChainOpts.next (<anonymous>)
    at chainWalker (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:316:14)
    at chainWalker.next (<anonymous>)
    at loadFileChain (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:191:24)
    at loadFileChain.next (<anonymous>)
    at buildRootChain (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:77:27)
    at buildRootChain.next (<anonymous>)
    at loadPrivatePartialConfig (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/partial.js:72:62)
    at loadPrivatePartialConfig.next (<anonymous>)
    at loadPartialConfig (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/partial.js:115:25)
    at loadPartialConfig.next (<anonymous>)
    at step (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:269:25)
    at evaluateAsync (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:291:5)
    at /home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:93:9
    at new Promise (<anonymous>)
    at async (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:92:14)
    at stopHiding - secret - don't use this - v1 (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/errors/rewrite-stack-trace.js:47:12)
    at loadPartialConfigAsync (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/index.js:34:85)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:126:26)
    at Generator.next (<anonymous>)
    at asyncGeneratorStep (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:3:103)
    at _next (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:194)
    at /home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:364
    at new Promise (<anonymous>)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:97)
    at Object._loader (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:210:18)
    at Object.loader (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:48:18)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:44:12)

  Rendered layout layouts/application.html.erb (Duration: 981.1ms | Allocations: 52056)
Completed 200 OK in 1022ms (Views: 976.6ms | ActiveRecord: 13.0ms | Allocations: 72751)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:36:41 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 5956)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 8924)
Completed 200 OK in 17ms (Views: 9.8ms | ActiveRecord: 1.7ms | Allocations: 19448)


Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:36:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "transaction"=>{"patient_id"=>"1", "charge"=>"0.01", "credit"=>"0.01", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"01", "date(5i)"=>"36", "performed_by"=>"Mike"}, "commit"=>"Create Transaction"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 1ms (ActiveRecord: 0.0ms | Allocations: 784)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:293:in `handle_unverified_request'
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:388:in `handle_unverified_request'
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:377:in `verify_authenticity_token'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:403:in `block in make_lambda'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:202:in `block (2 levels) in halting'
actionpack (7.1.3.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:203:in `block in halting'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.3.4) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.3.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.3.4) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.3.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.3.4) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.3.4) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.3.4) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.3.4) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.3.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.3.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/content_security_policy.rb:33:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.3.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.1) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/method_override.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (7.1.3.4) lib/rails/engine.rb:536:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:37:14 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3505)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 6613)
Completed 200 OK in 19ms (Views: 11.3ms | ActiveRecord: 2.8ms | Allocations: 13264)


Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:37:15 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "transaction"=>{"patient_id"=>"1", "charge"=>"0.01", "credit"=>"0.01", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"01", "date(5i)"=>"36", "performed_by"=>"Mike"}, "commit"=>"Create Transaction"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Content in 0ms (ActiveRecord: 0.0ms | Allocations: 720)


  
ActionController::InvalidAuthenticityToken (Can't verify CSRF token authenticity.):
  
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:293:in `handle_unverified_request'
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:388:in `handle_unverified_request'
actionpack (7.1.3.4) lib/action_controller/metal/request_forgery_protection.rb:377:in `verify_authenticity_token'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:403:in `block in make_lambda'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:202:in `block (2 levels) in halting'
actionpack (7.1.3.4) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:203:in `block in halting'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `block in invoke_before'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `each'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:598:in `invoke_before'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:119:in `block in run_callbacks'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:141:in `run_callbacks'
actionpack (7.1.3.4) lib/abstract_controller/callbacks.rb:258:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/rescue.rb:25:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/instrumentation.rb:74:in `block in process_action'
activesupport (7.1.3.4) lib/active_support/notifications.rb:206:in `block in instrument'
activesupport (7.1.3.4) lib/active_support/notifications/instrumenter.rb:58:in `instrument'
activesupport (7.1.3.4) lib/active_support/notifications.rb:206:in `instrument'
actionpack (7.1.3.4) lib/action_controller/metal/instrumentation.rb:73:in `process_action'
actionpack (7.1.3.4) lib/action_controller/metal/params_wrapper.rb:261:in `process_action'
activerecord (7.1.3.4) lib/active_record/railties/controller_runtime.rb:32:in `process_action'
actionpack (7.1.3.4) lib/abstract_controller/base.rb:160:in `process'
actionview (7.1.3.4) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.3.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.3.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:43:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/content_security_policy.rb:33:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.3.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.1) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/method_override.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (7.1.3.4) lib/rails/engine.rb:536:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:38:56 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3501)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 6606)
Completed 200 OK in 24ms (Views: 15.3ms | ActiveRecord: 3.2ms | Allocations: 13312)


Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:38:58 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "transaction"=>{"patient_id"=>"1", "charge"=>"0.01", "credit"=>"0.01", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"01", "date(5i)"=>"36", "performed_by"=>"Mike"}, "commit"=>"Create Transaction"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering transactions/new.html.erb within layouts/application
  Rendered transactions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 3285)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 6093)
Completed 200 OK in 33ms (Views: 6.4ms | ActiveRecord: 6.9ms | Allocations: 18175)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:39:05 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2231)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 5115)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 1.2ms | Allocations: 5822)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:39:26 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 6940)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 35.8ms | Allocations: 19075)
Completed 200 OK in 66ms (Views: 29.1ms | ActiveRecord: 14.5ms | Allocations: 34101)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:39:33 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
  Rendered payments/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 5259)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 8211)
Completed 200 OK in 11ms (Views: 5.7ms | ActiveRecord: 1.4ms | Allocations: 18584)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:39:35 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1252)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 4048)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 1.3ms | Allocations: 4538)


Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:39:41 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "transaction"=>{"patient_id"=>"1", "charge"=>"0.01", "credit"=>"0.01", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"01", "date(5i)"=>"39", "performed_by"=>"Mike"}, "commit"=>"Create Transaction"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering transactions/new.html.erb within layouts/application
  Rendered transactions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 6090)
Completed 200 OK in 12ms (Views: 4.8ms | ActiveRecord: 1.9ms | Allocations: 15032)


Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:39:45 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"patient_id"=>"1", "charge"=>"0.01", "credit"=>"0.01", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"01", "date(5i)"=>"39", "performed_by"=>"Mike"}, "commit"=>"Create Transaction"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering transactions/new.html.erb within layouts/application
  Rendered transactions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 2837)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 5487)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 1.4ms | Allocations: 9308)


Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:39:47 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"patient_id"=>"1", "charge"=>"0.01", "credit"=>"0.01", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"01", "date(5i)"=>"39", "performed_by"=>"Mike"}, "commit"=>"Create Transaction"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering transactions/new.html.erb within layouts/application
  Rendered transactions/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2837)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 5487)
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 1.6ms | Allocations: 9199)


Started POST "/transactions" for 127.0.0.1 at 2024-07-24 20:39:48 -0500
Processing by TransactionsController#create as HTML
  Parameters: {"transaction"=>{"patient_id"=>"1", "charge"=>"0.01", "credit"=>"0.01", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"01", "date(5i)"=>"39", "performed_by"=>"Mike"}, "commit"=>"Create Transaction"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/transactions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering transactions/new.html.erb within layouts/application
  Rendered transactions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 2837)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 5494)
Completed 200 OK in 8ms (Views: 3.8ms | ActiveRecord: 1.5ms | Allocations: 9207)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:39:52 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1133)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 3959)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 1.6ms | Allocations: 4367)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:40:06 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.1ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 3874)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 1.0ms | Allocations: 4291)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:40:22 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 3874)
Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 1.2ms | Allocations: 4269)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:40:37 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.1ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 3874)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 1.1ms | Allocations: 4269)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:40:53 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1087)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3910)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 1.5ms | Allocations: 4320)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:41:08 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:12
  Rendered dashboard/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 3881)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 1.6ms | Allocations: 4278)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:41:56 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:62
  Rendered dashboard/index.html.erb within layouts/application (Duration: 31.5ms | Allocations: 18894)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 21501)
Completed 200 OK in 62ms (Views: 28.7ms | ActiveRecord: 14.7ms | Allocations: 36527)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:42:05 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:62
  Rendered dashboard/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 4119)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 6364)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 1.5ms | Allocations: 6893)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:42:26 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:62
  Rendered dashboard/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3817)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 6059)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 1.4ms | Allocations: 6467)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:42:35 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:62
  Rendered dashboard/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3817)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 6059)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 1.4ms | Allocations: 6466)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:44:02 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 19102)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 21709)
Completed 200 OK in 52ms (Views: 23.0ms | ActiveRecord: 12.3ms | Allocations: 36738)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:44:03 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 8084)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 10448)
Completed 200 OK in 13ms (Views: 7.9ms | ActiveRecord: 1.4ms | Allocations: 20821)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:44:05 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4082)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 6326)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.4ms | Allocations: 6816)


Started GET "/transactions" for 127.0.0.1 at 2024-07-24 20:44:06 -0500
  
AbstractController::ActionNotFound (The action 'index' could not be found for TransactionsController):
  
actionpack (7.1.3.4) lib/abstract_controller/base.rb:155:in `process'
actionview (7.1.3.4) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.3.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.3.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/content_security_policy.rb:33:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.3.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.1) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/method_override.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (7.1.3.4) lib/rails/engine.rb:536:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2024-07-24 20:44:08 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 4198)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 6443)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.2ms | Allocations: 6971)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 20:44:28 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 5663)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 7905)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 8279)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:45:08 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3885)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 6127)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 1.4ms | Allocations: 6525)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:45:38 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3876)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 6118)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 1.6ms | Allocations: 6513)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:46:09 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3898)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 6140)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 1.8ms | Allocations: 6535)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:46:40 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3888)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 6142)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 1.4ms | Allocations: 6537)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:47:11 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3880)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 6134)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 1.6ms | Allocations: 6545)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:47:42 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3881)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 6140)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 1.2ms | Allocations: 6535)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:48:13 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.1ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 3876)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 6118)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 1.1ms | Allocations: 6513)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (8.6ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John Doe"], ["contact_info", "555-1234"], ["created_at", "2024-07-25 01:49:43.689534"], ["updated_at", "2024-07-25 01:49:43.689534"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.4ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jane Smith"], ["contact_info", "555-5678"], ["created_at", "2024-07-25 01:49:43.701823"], ["updated_at", "2024-07-25 01:49:43.701823"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2024-07-24 20:50:30 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:83
  Rendered dashboard/index.html.erb within layouts/application (Duration: 31.4ms | Allocations: 19155)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 33.6ms | Allocations: 21762)
Completed 200 OK in 61ms (Views: 29.0ms | ActiveRecord: 13.1ms | Allocations: 36788)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:53:10 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 38.9ms | Allocations: 21839)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 41.3ms | Allocations: 24558)
Completed 200 OK in 69ms (Views: 35.8ms | ActiveRecord: 14.3ms | Allocations: 40750)


  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.2ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John Doe"], ["contact_info", "555-1234"], ["created_at", "2024-07-25 01:53:33.248518"], ["updated_at", "2024-07-25 01:53:33.248518"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jane Smith"], ["contact_info", "555-5678"], ["created_at", "2024-07-25 01:53:33.254744"], ["updated_at", "2024-07-25 01:53:33.254744"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddBalanceToTransactions (20240725015405)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.2ms)[0m  [1m[35mALTER TABLE "transactions" ADD "balance" decimal[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240725015405') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John Doe"], ["contact_info", "555-1234"], ["created_at", "2024-07-25 01:54:49.577043"], ["updated_at", "2024-07-25 01:54:49.577043"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.3ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jane Smith"], ["contact_info", "555-5678"], ["created_at", "2024-07-25 01:54:49.582687"], ["updated_at", "2024-07-25 01:54:49.582687"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (10.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "D001"], ["charge", "100.0"], ["credit", "0.0"], ["date", "2024-07-25 01:54:49.586175"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 01:54:49.598932"], ["updated_at", "2024-07-25 01:54:49.598932"], ["balance", "100.0"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "D002"], ["charge", "150.0"], ["credit", "50.0"], ["date", "2024-07-25 01:54:49.613880"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 01:54:49.618037"], ["updated_at", "2024-07-25 01:54:49.618037"], ["balance", "100.0"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2024-07-24 20:55:37 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (5.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (2.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 91.0ms | Allocations: 48594)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 94.1ms | Allocations: 51305)
Completed 200 OK in 132ms (Views: 74.0ms | ActiveRecord: 32.6ms | Allocations: 67467)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:56:08 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 12260)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 14638)
Completed 200 OK in 24ms (Views: 16.6ms | ActiveRecord: 6.5ms | Allocations: 15167)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:56:38 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 11835)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 14193)
Completed 200 OK in 19ms (Views: 13.1ms | ActiveRecord: 5.2ms | Allocations: 14600)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:57:09 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 11835)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 14204)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 4.4ms | Allocations: 14619)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:57:40 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 11833)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 14190)
Completed 200 OK in 20ms (Views: 13.9ms | ActiveRecord: 5.6ms | Allocations: 14609)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:58:11 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 11827)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 14184)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 4.6ms | Allocations: 14579)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:58:42 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 16.9ms | Allocations: 11830)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 14192)
Completed 200 OK in 20ms (Views: 14.7ms | ActiveRecord: 4.9ms | Allocations: 14588)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:59:13 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 11828)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 14185)
Completed 200 OK in 23ms (Views: 15.5ms | ActiveRecord: 6.4ms | Allocations: 14583)


Started GET "/" for 127.0.0.1 at 2024-07-24 20:59:44 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 11827)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 14184)
Completed 200 OK in 18ms (Views: 12.1ms | ActiveRecord: 5.7ms | Allocations: 14579)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.3ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John Doe"], ["contact_info", "555-1234"], ["created_at", "2024-07-25 02:01:13.873738"], ["updated_at", "2024-07-25 02:01:13.873738"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.3ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jane Smith"], ["contact_info", "555-5678"], ["created_at", "2024-07-25 02:01:13.879716"], ["updated_at", "2024-07-25 02:01:13.879716"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "D001"], ["charge", "100.0"], ["credit", "0.0"], ["date", "2024-07-25 02:01:13.883239"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:01:13.895522"], ["updated_at", "2024-07-25 02:01:13.895522"], ["balance", "100.0"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "D002"], ["charge", "150.0"], ["credit", "50.0"], ["date", "2024-07-25 02:01:13.899311"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:01:13.903216"], ["updated_at", "2024-07-25 02:01:13.903216"], ["balance", "100.0"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Delete All (3.3ms)[0m  [1m[31mDELETE FROM "patients"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTransaction Delete All (0.6ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mPatient Delete All (1.0ms)[0m  [1m[31mDELETE FROM "patients"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.3ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:04:04.992187"], ["updated_at", "2024-07-25 02:04:04.992187"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:04:04.996485"], ["updated_at", "2024-07-25 02:04:04.996485"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.3ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:04:04.999321"], ["updated_at", "2024-07-25 02:04:04.999321"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:04:05.002119"], ["updated_at", "2024-07-25 02:04:05.002119"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:04:05.004426"], ["updated_at", "2024-07-25 02:04:05.004426"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:04:05.007091"], ["updated_at", "2024-07-25 02:04:05.007091"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.6ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:04:05.009350"], ["updated_at", "2024-07-25 02:04:05.009350"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:04:05.011318"], ["updated_at", "2024-07-25 02:04:05.011318"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:04:05.013924"], ["updated_at", "2024-07-25 02:04:05.013924"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:04:05.016233"], ["updated_at", "2024-07-25 02:04:05.016233"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-08-08 16:10:12"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.307281"], ["updated_at", "2024-07-25 02:04:05.307281"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-08-22 18:27:13"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.314088"], ["updated_at", "2024-07-25 02:04:05.314088"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-09-05 18:04:17"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.319150"], ["updated_at", "2024-07-25 02:04:05.319150"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-09-19 11:46:30"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.324182"], ["updated_at", "2024-07-25 02:04:05.324182"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.9ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-10-03 12:30:39"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:04:05.329333"], ["updated_at", "2024-07-25 02:04:05.329333"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-10-17 13:35:00"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:04:05.335026"], ["updated_at", "2024-07-25 02:04:05.335026"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-10-31 11:13:40"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:04:05.339946"], ["updated_at", "2024-07-25 02:04:05.339946"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-11-14 08:56:51"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.344842"], ["updated_at", "2024-07-25 02:04:05.344842"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-11-28 13:01:15"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.349387"], ["updated_at", "2024-07-25 02:04:05.349387"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-12-12 22:42:33"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.355345"], ["updated_at", "2024-07-25 02:04:05.355345"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "4"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-09-05 03:35:06"], ["performed_by", ""], ["created_at", "2024-07-25 02:04:05.359743"], ["updated_at", "2024-07-25 02:04:05.359743"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "4"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-12 11:26:57"], ["performed_by", ""], ["created_at", "2024-07-25 02:04:05.363594"], ["updated_at", "2024-07-25 02:04:05.363594"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "2"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-09-19 07:23:50"], ["performed_by", ""], ["created_at", "2024-07-25 02:04:05.368691"], ["updated_at", "2024-07-25 02:04:05.368691"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "2"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-26 15:30:25"], ["performed_by", ""], ["created_at", "2024-07-25 02:04:05.373186"], ["updated_at", "2024-07-25 02:04:05.373186"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "4"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-10-03 04:58:46"], ["performed_by", ""], ["created_at", "2024-07-25 02:04:05.377359"], ["updated_at", "2024-07-25 02:04:05.377359"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-08-08 03:25:26"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:04:05.382890"], ["updated_at", "2024-07-25 02:04:05.382890"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-08-23 01:21:37"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.387686"], ["updated_at", "2024-07-25 02:04:05.387686"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-09-05 21:15:03"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:04:05.392451"], ["updated_at", "2024-07-25 02:04:05.392451"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-09-19 23:28:05"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.398855"], ["updated_at", "2024-07-25 02:04:05.398855"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-10-03 09:27:44"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.403872"], ["updated_at", "2024-07-25 02:04:05.403872"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-10-17 23:21:42"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:04:05.408586"], ["updated_at", "2024-07-25 02:04:05.408586"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-10-31 17:29:59"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:04:05.413103"], ["updated_at", "2024-07-25 02:04:05.413103"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-11-15 01:56:06"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:04:05.418268"], ["updated_at", "2024-07-25 02:04:05.418268"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-11-28 18:38:10"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:04:05.422389"], ["updated_at", "2024-07-25 02:04:05.422389"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-12-12 22:09:24"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:04:05.426962"], ["updated_at", "2024-07-25 02:04:05.426962"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "2"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-05 20:42:11"], ["performed_by", ""], ["created_at", "2024-07-25 02:04:05.430782"], ["updated_at", "2024-07-25 02:04:05.430782"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "4"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-09-12 07:54:53"], ["performed_by", ""], ["created_at", "2024-07-25 02:04:05.435044"], ["updated_at", "2024-07-25 02:04:05.435044"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "4"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-19 02:03:30"], ["performed_by", ""], ["created_at", "2024-07-25 02:04:05.439688"], ["updated_at", "2024-07-25 02:04:05.439688"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "2"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-26 05:38:19"], ["performed_by", ""], ["created_at", "2024-07-25 02:04:05.443688"], ["updated_at", "2024-07-25 02:04:05.443688"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "2"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-10-03 18:27:54"], ["performed_by", ""], ["created_at", "2024-07-25 02:04:05.448157"], ["updated_at", "2024-07-25 02:04:05.448157"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John Doe"], ["contact_info", "555-1234"], ["created_at", "2024-07-25 02:04:05.450895"], ["updated_at", "2024-07-25 02:04:05.450895"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jane Smith"], ["contact_info", "555-5678"], ["created_at", "2024-07-25 02:04:05.453879"], ["updated_at", "2024-07-25 02:04:05.453879"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2024-07-24 21:11:33 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 74.6ms | Allocations: 46702)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 77.1ms | Allocations: 49413)
Completed 200 OK in 116ms (Views: 56.4ms | ActiveRecord: 30.9ms | Allocations: 65576)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:11:57 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 31.7ms | Allocations: 12253)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 14636)
Completed 200 OK in 36ms (Views: 30.0ms | ActiveRecord: 5.2ms | Allocations: 15163)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:12:04 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 11808)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 14166)
Completed 200 OK in 23ms (Views: 16.5ms | ActiveRecord: 5.9ms | Allocations: 14573)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTransaction Delete All (0.8ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mPatient Delete All (0.8ms)[0m  [1m[31mDELETE FROM "patients"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.5ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:13:15.573208"], ["updated_at", "2024-07-25 02:13:15.573208"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.3ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:13:15.577037"], ["updated_at", "2024-07-25 02:13:15.577037"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:13:15.580357"], ["updated_at", "2024-07-25 02:13:15.580357"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:13:15.583459"], ["updated_at", "2024-07-25 02:13:15.583459"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:13:15.585914"], ["updated_at", "2024-07-25 02:13:15.585914"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:13:15.589081"], ["updated_at", "2024-07-25 02:13:15.589081"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:13:15.591692"], ["updated_at", "2024-07-25 02:13:15.591692"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:13:15.594276"], ["updated_at", "2024-07-25 02:13:15.594276"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:13:15.597177"], ["updated_at", "2024-07-25 02:13:15.597177"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.2ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:13:15.600027"], ["updated_at", "2024-07-25 02:13:15.600027"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (1.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John Doe"], ["contact_info", "555-1234"], ["created_at", "2024-07-25 02:13:16.013290"], ["updated_at", "2024-07-25 02:13:16.013290"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jane Smith"], ["contact_info", "555-5678"], ["created_at", "2024-07-25 02:13:16.017585"], ["updated_at", "2024-07-25 02:13:16.017585"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Delete All (1.1ms)[0m  [1m[31mDELETE FROM "patients"[0m
  [1m[36mTransaction Delete All (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:14:49.369286"], ["updated_at", "2024-07-25 02:14:49.369286"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:14:49.372991"], ["updated_at", "2024-07-25 02:14:49.372991"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:14:49.375353"], ["updated_at", "2024-07-25 02:14:49.375353"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.6ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:14:49.378081"], ["updated_at", "2024-07-25 02:14:49.378081"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:14:49.380197"], ["updated_at", "2024-07-25 02:14:49.380197"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:14:49.382618"], ["updated_at", "2024-07-25 02:14:49.382618"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.6ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:14:49.384961"], ["updated_at", "2024-07-25 02:14:49.384961"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:14:49.387061"], ["updated_at", "2024-07-25 02:14:49.387061"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:14:49.389468"], ["updated_at", "2024-07-25 02:14:49.389468"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.6ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:14:49.391676"], ["updated_at", "2024-07-25 02:14:49.391676"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John Doe"], ["contact_info", "555-1234"], ["created_at", "2024-07-25 02:14:49.746099"], ["updated_at", "2024-07-25 02:14:49.746099"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Jane Smith"], ["contact_info", "555-5678"], ["created_at", "2024-07-25 02:14:49.749919"], ["updated_at", "2024-07-25 02:14:49.749919"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Delete All (1.1ms)[0m  [1m[31mDELETE FROM "patients"[0m
  [1m[36mTransaction Delete All (0.3ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.3ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:17:02.490243"], ["updated_at", "2024-07-25 02:17:02.490243"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:17:02.494668"], ["updated_at", "2024-07-25 02:17:02.494668"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:17:02.497128"], ["updated_at", "2024-07-25 02:17:02.497128"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:17:02.500601"], ["updated_at", "2024-07-25 02:17:02.500601"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:17:02.503317"], ["updated_at", "2024-07-25 02:17:02.503317"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:17:02.505657"], ["updated_at", "2024-07-25 02:17:02.505657"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:17:02.508330"], ["updated_at", "2024-07-25 02:17:02.508330"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:17:02.511484"], ["updated_at", "2024-07-25 02:17:02.511484"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:17:02.515471"], ["updated_at", "2024-07-25 02:17:02.515471"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2024-07-25 02:17:02.517974"], ["updated_at", "2024-07-25 02:17:02.517974"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.7ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Delete All (1.0ms)[0m  [1m[31mDELETE FROM "patients"[0m
  [1m[36mTransaction Delete All (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.6ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kelsey Perkins"], ["contact_info", "300-348-0492"], ["created_at", "2024-07-25 02:18:48.926304"], ["updated_at", "2024-07-25 02:18:48.926304"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.3ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Adelaide Miller"], ["contact_info", "703-955-3536"], ["created_at", "2024-07-25 02:18:48.930578"], ["updated_at", "2024-07-25 02:18:48.930578"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Mike Kelly"], ["contact_info", "728-062-2242"], ["created_at", "2024-07-25 02:18:48.933788"], ["updated_at", "2024-07-25 02:18:48.933788"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Tess Stewart"], ["contact_info", "344-609-1676"], ["created_at", "2024-07-25 02:18:48.937056"], ["updated_at", "2024-07-25 02:18:48.937056"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "James Tucker"], ["contact_info", "410-809-3540"], ["created_at", "2024-07-25 02:18:48.939905"], ["updated_at", "2024-07-25 02:18:48.939905"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.4ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Melissa Cooper"], ["contact_info", "482-585-9342"], ["created_at", "2024-07-25 02:18:48.942640"], ["updated_at", "2024-07-25 02:18:48.942640"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Edith Rogers"], ["contact_info", "793-413-6345"], ["created_at", "2024-07-25 02:18:48.946129"], ["updated_at", "2024-07-25 02:18:48.946129"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (2.2ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Madaline Nelson"], ["contact_info", "520-460-4182"], ["created_at", "2024-07-25 02:18:48.949266"], ["updated_at", "2024-07-25 02:18:48.949266"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alfred Lloyd"], ["contact_info", "808-317-6655"], ["created_at", "2024-07-25 02:18:48.954415"], ["updated_at", "2024-07-25 02:18:48.954415"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Savana Watson"], ["contact_info", "273-026-3229"], ["created_at", "2024-07-25 02:18:48.958284"], ["updated_at", "2024-07-25 02:18:48.958284"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (1.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.7ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Delete All (1.2ms)[0m  [1m[31mDELETE FROM "patients"[0m
  [1m[36mTransaction Delete All (0.1ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kelsey Perkins"], ["contact_info", "300-348-0492"], ["created_at", "2024-07-25 02:21:58.629832"], ["updated_at", "2024-07-25 02:21:58.629832"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Adelaide Miller"], ["contact_info", "703-955-3536"], ["created_at", "2024-07-25 02:21:58.633456"], ["updated_at", "2024-07-25 02:21:58.633456"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Mike Kelly"], ["contact_info", "728-062-2242"], ["created_at", "2024-07-25 02:21:58.636186"], ["updated_at", "2024-07-25 02:21:58.636186"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Tess Stewart"], ["contact_info", "344-609-1676"], ["created_at", "2024-07-25 02:21:58.638574"], ["updated_at", "2024-07-25 02:21:58.638574"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.2ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "James Tucker"], ["contact_info", "410-809-3540"], ["created_at", "2024-07-25 02:21:58.641414"], ["updated_at", "2024-07-25 02:21:58.641414"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Melissa Cooper"], ["contact_info", "482-585-9342"], ["created_at", "2024-07-25 02:21:58.644524"], ["updated_at", "2024-07-25 02:21:58.644524"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Edith Rogers"], ["contact_info", "793-413-6345"], ["created_at", "2024-07-25 02:21:58.647329"], ["updated_at", "2024-07-25 02:21:58.647329"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Madaline Nelson"], ["contact_info", "520-460-4182"], ["created_at", "2024-07-25 02:21:58.649700"], ["updated_at", "2024-07-25 02:21:58.649700"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alfred Lloyd"], ["contact_info", "808-317-6655"], ["created_at", "2024-07-25 02:21:58.651912"], ["updated_at", "2024-07-25 02:21:58.651912"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.6ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Savana Watson"], ["contact_info", "273-026-3229"], ["created_at", "2024-07-25 02:21:58.654052"], ["updated_at", "2024-07-25 02:21:58.654052"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Delete All (0.9ms)[0m  [1m[31mDELETE FROM "patients"[0m
  [1m[36mTransaction Delete All (0.3ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.4ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kelsey Perkins"], ["contact_info", "300-348-0492"], ["created_at", "2024-07-25 02:22:12.518309"], ["updated_at", "2024-07-25 02:22:12.518309"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Adelaide Miller"], ["contact_info", "703-955-3536"], ["created_at", "2024-07-25 02:22:12.522099"], ["updated_at", "2024-07-25 02:22:12.522099"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.2ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Mike Kelly"], ["contact_info", "728-062-2242"], ["created_at", "2024-07-25 02:22:12.524358"], ["updated_at", "2024-07-25 02:22:12.524358"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Tess Stewart"], ["contact_info", "344-609-1676"], ["created_at", "2024-07-25 02:22:12.527653"], ["updated_at", "2024-07-25 02:22:12.527653"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "James Tucker"], ["contact_info", "410-809-3540"], ["created_at", "2024-07-25 02:22:12.530479"], ["updated_at", "2024-07-25 02:22:12.530479"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Melissa Cooper"], ["contact_info", "482-585-9342"], ["created_at", "2024-07-25 02:22:12.533026"], ["updated_at", "2024-07-25 02:22:12.533026"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Edith Rogers"], ["contact_info", "793-413-6345"], ["created_at", "2024-07-25 02:22:12.535497"], ["updated_at", "2024-07-25 02:22:12.535497"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Madaline Nelson"], ["contact_info", "520-460-4182"], ["created_at", "2024-07-25 02:22:12.538200"], ["updated_at", "2024-07-25 02:22:12.538200"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.4ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alfred Lloyd"], ["contact_info", "808-317-6655"], ["created_at", "2024-07-25 02:22:12.540471"], ["updated_at", "2024-07-25 02:22:12.540471"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Savana Watson"], ["contact_info", "273-026-3229"], ["created_at", "2024-07-25 02:22:12.543485"], ["updated_at", "2024-07-25 02:22:12.543485"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Delete All (1.0ms)[0m  [1m[31mDELETE FROM "patients"[0m
  [1m[36mTransaction Delete All (0.2ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.6ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kelsey Perkins"], ["contact_info", "300-348-0492"], ["created_at", "2024-07-25 02:24:42.235204"], ["updated_at", "2024-07-25 02:24:42.235204"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.2ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Adelaide Miller"], ["contact_info", "703-955-3536"], ["created_at", "2024-07-25 02:24:42.239998"], ["updated_at", "2024-07-25 02:24:42.239998"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Mike Kelly"], ["contact_info", "728-062-2242"], ["created_at", "2024-07-25 02:24:42.243060"], ["updated_at", "2024-07-25 02:24:42.243060"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Tess Stewart"], ["contact_info", "344-609-1676"], ["created_at", "2024-07-25 02:24:42.246659"], ["updated_at", "2024-07-25 02:24:42.246659"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "James Tucker"], ["contact_info", "410-809-3540"], ["created_at", "2024-07-25 02:24:42.249294"], ["updated_at", "2024-07-25 02:24:42.249294"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Melissa Cooper"], ["contact_info", "482-585-9342"], ["created_at", "2024-07-25 02:24:42.251532"], ["updated_at", "2024-07-25 02:24:42.251532"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Edith Rogers"], ["contact_info", "793-413-6345"], ["created_at", "2024-07-25 02:24:42.254192"], ["updated_at", "2024-07-25 02:24:42.254192"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Madaline Nelson"], ["contact_info", "520-460-4182"], ["created_at", "2024-07-25 02:24:42.257019"], ["updated_at", "2024-07-25 02:24:42.257019"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alfred Lloyd"], ["contact_info", "808-317-6655"], ["created_at", "2024-07-25 02:24:42.259464"], ["updated_at", "2024-07-25 02:24:42.259464"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Savana Watson"], ["contact_info", "273-026-3229"], ["created_at", "2024-07-25 02:24:42.261545"], ["updated_at", "2024-07-25 02:24:42.261545"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2024-07-24 21:25:29 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 150.7ms | Allocations: 16577)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 156.7ms | Allocations: 19303)
Completed 200 OK in 229ms (Views: 145.0ms | ActiveRecord: 32.0ms | Allocations: 35465)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.3ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kelsey Perkins"], ["contact_info", "300-348-0492"], ["created_at", "2024-07-25 02:28:38.903153"], ["updated_at", "2024-07-25 02:28:38.903153"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Adelaide Miller"], ["contact_info", "703-955-3536"], ["created_at", "2024-07-25 02:28:38.907620"], ["updated_at", "2024-07-25 02:28:38.907620"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Mike Kelly"], ["contact_info", "728-062-2242"], ["created_at", "2024-07-25 02:28:38.911288"], ["updated_at", "2024-07-25 02:28:38.911288"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Tess Stewart"], ["contact_info", "344-609-1676"], ["created_at", "2024-07-25 02:28:38.914858"], ["updated_at", "2024-07-25 02:28:38.914858"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.2ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "James Tucker"], ["contact_info", "410-809-3540"], ["created_at", "2024-07-25 02:28:38.918581"], ["updated_at", "2024-07-25 02:28:38.918581"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Melissa Cooper"], ["contact_info", "482-585-9342"], ["created_at", "2024-07-25 02:28:38.922669"], ["updated_at", "2024-07-25 02:28:38.922669"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.2ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Edith Rogers"], ["contact_info", "793-413-6345"], ["created_at", "2024-07-25 02:28:38.925619"], ["updated_at", "2024-07-25 02:28:38.925619"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Madaline Nelson"], ["contact_info", "520-460-4182"], ["created_at", "2024-07-25 02:28:38.929182"], ["updated_at", "2024-07-25 02:28:38.929182"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alfred Lloyd"], ["contact_info", "808-317-6655"], ["created_at", "2024-07-25 02:28:38.932182"], ["updated_at", "2024-07-25 02:28:38.932182"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Savana Watson"], ["contact_info", "273-026-3229"], ["created_at", "2024-07-25 02:28:38.935118"], ["updated_at", "2024-07-25 02:28:38.935118"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (1.0ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (1.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.6ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kelsey Perkins"], ["contact_info", "300-348-0492"], ["created_at", "2024-07-25 02:30:33.360390"], ["updated_at", "2024-07-25 02:30:33.360390"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Adelaide Miller"], ["contact_info", "703-955-3536"], ["created_at", "2024-07-25 02:30:33.364436"], ["updated_at", "2024-07-25 02:30:33.364436"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Mike Kelly"], ["contact_info", "728-062-2242"], ["created_at", "2024-07-25 02:30:33.367577"], ["updated_at", "2024-07-25 02:30:33.367577"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Tess Stewart"], ["contact_info", "344-609-1676"], ["created_at", "2024-07-25 02:30:33.370243"], ["updated_at", "2024-07-25 02:30:33.370243"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.6ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "James Tucker"], ["contact_info", "410-809-3540"], ["created_at", "2024-07-25 02:30:33.373203"], ["updated_at", "2024-07-25 02:30:33.373203"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Melissa Cooper"], ["contact_info", "482-585-9342"], ["created_at", "2024-07-25 02:30:33.376761"], ["updated_at", "2024-07-25 02:30:33.376761"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Edith Rogers"], ["contact_info", "793-413-6345"], ["created_at", "2024-07-25 02:30:33.379903"], ["updated_at", "2024-07-25 02:30:33.379903"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Madaline Nelson"], ["contact_info", "520-460-4182"], ["created_at", "2024-07-25 02:30:33.382702"], ["updated_at", "2024-07-25 02:30:33.382702"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.4ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alfred Lloyd"], ["contact_info", "808-317-6655"], ["created_at", "2024-07-25 02:30:33.385589"], ["updated_at", "2024-07-25 02:30:33.385589"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.5ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Savana Watson"], ["contact_info", "273-026-3229"], ["created_at", "2024-07-25 02:30:33.389603"], ["updated_at", "2024-07-25 02:30:33.389603"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTransaction Delete All (0.3ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Kelsey Perkins"], ["contact_info", "300-348-0492"], ["created_at", "2024-07-25 02:31:38.163917"], ["updated_at", "2024-07-25 02:31:38.163917"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.4ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Adelaide Miller"], ["contact_info", "703-955-3536"], ["created_at", "2024-07-25 02:31:38.167446"], ["updated_at", "2024-07-25 02:31:38.167446"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Mike Kelly"], ["contact_info", "728-062-2242"], ["created_at", "2024-07-25 02:31:38.171009"], ["updated_at", "2024-07-25 02:31:38.171009"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Tess Stewart"], ["contact_info", "344-609-1676"], ["created_at", "2024-07-25 02:31:38.174162"], ["updated_at", "2024-07-25 02:31:38.174162"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.2ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "James Tucker"], ["contact_info", "410-809-3540"], ["created_at", "2024-07-25 02:31:38.177325"], ["updated_at", "2024-07-25 02:31:38.177325"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Melissa Cooper"], ["contact_info", "482-585-9342"], ["created_at", "2024-07-25 02:31:38.180059"], ["updated_at", "2024-07-25 02:31:38.180059"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Edith Rogers"], ["contact_info", "793-413-6345"], ["created_at", "2024-07-25 02:31:38.183664"], ["updated_at", "2024-07-25 02:31:38.183664"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Madaline Nelson"], ["contact_info", "520-460-4182"], ["created_at", "2024-07-25 02:31:38.186870"], ["updated_at", "2024-07-25 02:31:38.186870"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.5ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alfred Lloyd"], ["contact_info", "808-317-6655"], ["created_at", "2024-07-25 02:31:38.190229"], ["updated_at", "2024-07-25 02:31:38.190229"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.4ms)[0m  [1m[32mINSERT INTO "patients" ("name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Savana Watson"], ["contact_info", "273-026-3229"], ["created_at", "2024-07-25 02:31:38.194459"], ["updated_at", "2024-07-25 02:31:38.194459"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Delete All (1.2ms)[0m  [1m[31mDELETE FROM "patients"[0m
  [1m[36mTransaction Delete All (0.4ms)[0m  [1m[31mDELETE FROM "transactions"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("id", "name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 1], ["name", "Kelsey Perkins"], ["contact_info", "300-348-0492"], ["created_at", "2024-07-25 02:33:36.170752"], ["updated_at", "2024-07-25 02:33:36.170752"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("id", "name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 2], ["name", "Adelaide Miller"], ["contact_info", "703-955-3536"], ["created_at", "2024-07-25 02:33:36.174596"], ["updated_at", "2024-07-25 02:33:36.174596"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.1ms)[0m  [1m[32mINSERT INTO "patients" ("id", "name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 3], ["name", "Mike Kelly"], ["contact_info", "728-062-2242"], ["created_at", "2024-07-25 02:33:36.177459"], ["updated_at", "2024-07-25 02:33:36.177459"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (1.0ms)[0m  [1m[32mINSERT INTO "patients" ("id", "name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 4], ["name", "Tess Stewart"], ["contact_info", "344-609-1676"], ["created_at", "2024-07-25 02:33:36.180290"], ["updated_at", "2024-07-25 02:33:36.180290"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("id", "name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 5], ["name", "James Tucker"], ["contact_info", "410-809-3540"], ["created_at", "2024-07-25 02:33:36.182913"], ["updated_at", "2024-07-25 02:33:36.182913"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("id", "name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 6], ["name", "Melissa Cooper"], ["contact_info", "482-585-9342"], ["created_at", "2024-07-25 02:33:36.185818"], ["updated_at", "2024-07-25 02:33:36.185818"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.6ms)[0m  [1m[32mINSERT INTO "patients" ("id", "name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 7], ["name", "Edith Rogers"], ["contact_info", "793-413-6345"], ["created_at", "2024-07-25 02:33:36.188143"], ["updated_at", "2024-07-25 02:33:36.188143"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("id", "name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 8], ["name", "Madaline Nelson"], ["contact_info", "520-460-4182"], ["created_at", "2024-07-25 02:33:36.190579"], ["updated_at", "2024-07-25 02:33:36.190579"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.7ms)[0m  [1m[32mINSERT INTO "patients" ("id", "name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 9], ["name", "Alfred Lloyd"], ["contact_info", "808-317-6655"], ["created_at", "2024-07-25 02:33:36.192863"], ["updated_at", "2024-07-25 02:33:36.192863"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Create (0.9ms)[0m  [1m[32mINSERT INTO "patients" ("id", "name", "contact_info", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["id", 10], ["name", "Savana Watson"], ["contact_info", "273-026-3229"], ["created_at", "2024-07-25 02:33:36.194993"], ["updated_at", "2024-07-25 02:33:36.194993"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-08-08 10:55:44"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.205903"], ["updated_at", "2024-07-25 02:33:36.205903"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-08-22 10:42:31"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.210158"], ["updated_at", "2024-07-25 02:33:36.210158"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-09-05 04:51:09"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.213761"], ["updated_at", "2024-07-25 02:33:36.213761"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (2.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-09-19 06:01:57"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.218248"], ["updated_at", "2024-07-25 02:33:36.218248"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-10-03 13:37:34"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.223943"], ["updated_at", "2024-07-25 02:33:36.223943"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-10-17 06:38:41"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.227721"], ["updated_at", "2024-07-25 02:33:36.227721"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-10-31 20:02:43"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.231554"], ["updated_at", "2024-07-25 02:33:36.231554"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-11-14 18:06:55"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.234903"], ["updated_at", "2024-07-25 02:33:36.234903"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-11-28 10:55:42"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.238383"], ["updated_at", "2024-07-25 02:33:36.238383"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-12-12 19:49:48"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.242173"], ["updated_at", "2024-07-25 02:33:36.242173"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "1"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-05 11:56:36"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.245774"], ["updated_at", "2024-07-25 02:33:36.245774"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "4"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-12 05:41:00"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.249956"], ["updated_at", "2024-07-25 02:33:36.249956"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "2"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-19 07:28:05"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.253700"], ["updated_at", "2024-07-25 02:33:36.253700"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "3"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-26 18:10:14"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.257245"], ["updated_at", "2024-07-25 02:33:36.257245"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 1], ["procedure_code", "2"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-10-03 17:47:35"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.261316"], ["updated_at", "2024-07-25 02:33:36.261316"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-08-08 22:47:46"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.264811"], ["updated_at", "2024-07-25 02:33:36.264811"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-08-22 13:04:35"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.268266"], ["updated_at", "2024-07-25 02:33:36.268266"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-09-05 18:29:11"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.271682"], ["updated_at", "2024-07-25 02:33:36.271682"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-09-20 02:00:56"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.275536"], ["updated_at", "2024-07-25 02:33:36.275536"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-10-03 05:11:37"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.280630"], ["updated_at", "2024-07-25 02:33:36.280630"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-10-17 03:12:32"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.284674"], ["updated_at", "2024-07-25 02:33:36.284674"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-10-31 16:08:34"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.288323"], ["updated_at", "2024-07-25 02:33:36.288323"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-11-14 15:28:51"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.292239"], ["updated_at", "2024-07-25 02:33:36.292239"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-11-28 12:08:18"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.296223"], ["updated_at", "2024-07-25 02:33:36.296223"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-12-12 18:18:37"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.302488"], ["updated_at", "2024-07-25 02:33:36.302488"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "4"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-05 03:55:45"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.306648"], ["updated_at", "2024-07-25 02:33:36.306648"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "3"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-09-12 16:06:03"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.310415"], ["updated_at", "2024-07-25 02:33:36.310415"], ["balance", "50.5"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "1"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-09-19 19:21:23"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.314326"], ["updated_at", "2024-07-25 02:33:36.314326"], ["balance", "50.5"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "1"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-26 13:24:11"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.318497"], ["updated_at", "2024-07-25 02:33:36.318497"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 2], ["procedure_code", "4"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-10-03 09:32:41"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.322613"], ["updated_at", "2024-07-25 02:33:36.322613"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-08-08 04:12:52"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.326867"], ["updated_at", "2024-07-25 02:33:36.326867"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-08-22 20:51:39"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.331437"], ["updated_at", "2024-07-25 02:33:36.331437"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-09-05 12:42:16"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.335609"], ["updated_at", "2024-07-25 02:33:36.335609"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-09-19 17:48:57"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.340121"], ["updated_at", "2024-07-25 02:33:36.340121"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-10-03 22:55:21"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.344582"], ["updated_at", "2024-07-25 02:33:36.344582"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-10-17 11:49:27"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.349068"], ["updated_at", "2024-07-25 02:33:36.349068"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-10-31 07:22:22"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.352997"], ["updated_at", "2024-07-25 02:33:36.352997"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-11-14 19:38:38"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.356981"], ["updated_at", "2024-07-25 02:33:36.356981"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-11-28 07:45:37"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.360624"], ["updated_at", "2024-07-25 02:33:36.360624"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-12-12 15:21:21"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.364364"], ["updated_at", "2024-07-25 02:33:36.364364"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "3"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-09-05 05:26:34"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.367826"], ["updated_at", "2024-07-25 02:33:36.367826"], ["balance", "37.5"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "1"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-09-12 23:39:01"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.371416"], ["updated_at", "2024-07-25 02:33:36.371416"], ["balance", "37.5"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "1"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-19 07:52:35"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.374961"], ["updated_at", "2024-07-25 02:33:36.374961"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "3"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-26 06:46:10"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.378284"], ["updated_at", "2024-07-25 02:33:36.378284"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 3], ["procedure_code", "4"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-10-03 12:02:27"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.383653"], ["updated_at", "2024-07-25 02:33:36.383653"], ["balance", "37.5"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-08-08 17:49:32"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.387215"], ["updated_at", "2024-07-25 02:33:36.387215"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-08-22 10:48:05"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.390578"], ["updated_at", "2024-07-25 02:33:36.390578"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-09-05 13:08:58"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.394168"], ["updated_at", "2024-07-25 02:33:36.394168"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-09-19 07:22:05"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.397697"], ["updated_at", "2024-07-25 02:33:36.397697"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-10-03 15:26:36"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.400974"], ["updated_at", "2024-07-25 02:33:36.400974"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-10-17 06:20:10"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.404548"], ["updated_at", "2024-07-25 02:33:36.404548"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-10-31 21:46:53"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.408704"], ["updated_at", "2024-07-25 02:33:36.408704"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-11-14 18:25:28"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.412174"], ["updated_at", "2024-07-25 02:33:36.412174"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-11-28 14:50:52"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.415575"], ["updated_at", "2024-07-25 02:33:36.415575"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-12-12 10:21:12"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.419220"], ["updated_at", "2024-07-25 02:33:36.419220"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "2"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-05 17:00:10"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.422910"], ["updated_at", "2024-07-25 02:33:36.422910"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "2"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-09-12 18:32:38"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.426706"], ["updated_at", "2024-07-25 02:33:36.426706"], ["balance", "50.5"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "2"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-09-19 23:19:49"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.430130"], ["updated_at", "2024-07-25 02:33:36.430130"], ["balance", "50.5"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "1"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-26 14:37:14"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.434932"], ["updated_at", "2024-07-25 02:33:36.434932"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 4], ["procedure_code", "3"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-10-03 08:55:27"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.439486"], ["updated_at", "2024-07-25 02:33:36.439486"], ["balance", "50.5"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-08-08 02:48:36"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.443188"], ["updated_at", "2024-07-25 02:33:36.443188"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-08-22 03:07:54"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.447729"], ["updated_at", "2024-07-25 02:33:36.447729"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-09-05 05:44:38"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.452113"], ["updated_at", "2024-07-25 02:33:36.452113"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-09-19 11:00:35"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.456370"], ["updated_at", "2024-07-25 02:33:36.456370"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-10-03 10:38:53"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.460520"], ["updated_at", "2024-07-25 02:33:36.460520"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-10-17 16:56:00"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.464307"], ["updated_at", "2024-07-25 02:33:36.464307"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-10-31 08:42:48"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.468354"], ["updated_at", "2024-07-25 02:33:36.468354"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-11-14 08:51:05"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.472363"], ["updated_at", "2024-07-25 02:33:36.472363"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-11-28 15:35:49"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.475992"], ["updated_at", "2024-07-25 02:33:36.475992"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-12-12 08:05:37"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.479762"], ["updated_at", "2024-07-25 02:33:36.479762"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "1"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-09-05 05:35:27"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.483131"], ["updated_at", "2024-07-25 02:33:36.483131"], ["balance", "37.5"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "1"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-12 16:14:34"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.486312"], ["updated_at", "2024-07-25 02:33:36.486312"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "4"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-09-19 20:50:38"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.489519"], ["updated_at", "2024-07-25 02:33:36.489519"], ["balance", "50.5"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "2"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-27 01:07:50"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.492804"], ["updated_at", "2024-07-25 02:33:36.492804"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 5], ["procedure_code", "4"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-10-03 14:53:56"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.496059"], ["updated_at", "2024-07-25 02:33:36.496059"], ["balance", "37.5"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-08-08 06:56:15"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.499031"], ["updated_at", "2024-07-25 02:33:36.499031"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-08-22 08:41:34"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.502283"], ["updated_at", "2024-07-25 02:33:36.502283"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-09-05 20:09:00"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.505414"], ["updated_at", "2024-07-25 02:33:36.505414"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-09-19 21:00:58"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.509166"], ["updated_at", "2024-07-25 02:33:36.509166"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-10-03 06:10:59"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.513357"], ["updated_at", "2024-07-25 02:33:36.513357"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-10-17 15:19:36"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.516805"], ["updated_at", "2024-07-25 02:33:36.516805"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-10-31 09:18:26"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.519933"], ["updated_at", "2024-07-25 02:33:36.519933"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-11-14 13:35:12"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.523008"], ["updated_at", "2024-07-25 02:33:36.523008"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-11-28 15:09:57"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.527398"], ["updated_at", "2024-07-25 02:33:36.527398"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-12-12 10:38:14"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.531546"], ["updated_at", "2024-07-25 02:33:36.531546"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "2"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-09-05 13:01:22"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.535520"], ["updated_at", "2024-07-25 02:33:36.535520"], ["balance", "37.5"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "1"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-12 20:58:50"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.538724"], ["updated_at", "2024-07-25 02:33:36.538724"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "1"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-19 13:04:18"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.541879"], ["updated_at", "2024-07-25 02:33:36.541879"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "2"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-09-26 19:38:40"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.545677"], ["updated_at", "2024-07-25 02:33:36.545677"], ["balance", "37.5"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 6], ["procedure_code", "1"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-10-03 21:29:26"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.548964"], ["updated_at", "2024-07-25 02:33:36.548964"], ["balance", "37.5"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-08-08 16:17:42"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.552347"], ["updated_at", "2024-07-25 02:33:36.552347"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-08-22 16:34:16"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.555920"], ["updated_at", "2024-07-25 02:33:36.555920"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-09-05 13:30:35"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.559902"], ["updated_at", "2024-07-25 02:33:36.559902"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-09-19 22:53:08"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.565430"], ["updated_at", "2024-07-25 02:33:36.565430"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-10-03 04:28:38"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.570081"], ["updated_at", "2024-07-25 02:33:36.570081"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (1.6ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-10-17 19:46:53"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.574278"], ["updated_at", "2024-07-25 02:33:36.574278"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-10-31 16:51:18"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.579944"], ["updated_at", "2024-07-25 02:33:36.579944"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-11-14 08:12:29"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.585449"], ["updated_at", "2024-07-25 02:33:36.585449"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-11-28 06:19:03"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.590848"], ["updated_at", "2024-07-25 02:33:36.590848"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-12-12 09:28:30"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.595233"], ["updated_at", "2024-07-25 02:33:36.595233"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "2"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-05 05:07:51"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.599461"], ["updated_at", "2024-07-25 02:33:36.599461"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "1"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-12 12:18:27"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.603063"], ["updated_at", "2024-07-25 02:33:36.603063"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "3"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-09-19 13:08:41"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.606863"], ["updated_at", "2024-07-25 02:33:36.606863"], ["balance", "50.5"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "4"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-09-26 19:44:58"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.610423"], ["updated_at", "2024-07-25 02:33:36.610423"], ["balance", "37.5"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 7], ["procedure_code", "1"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-10-03 19:02:12"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.614409"], ["updated_at", "2024-07-25 02:33:36.614409"], ["balance", "50.5"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-08-08 23:33:20"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.617854"], ["updated_at", "2024-07-25 02:33:36.617854"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-08-22 07:41:15"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.621646"], ["updated_at", "2024-07-25 02:33:36.621646"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-09-05 18:43:35"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.625212"], ["updated_at", "2024-07-25 02:33:36.625212"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-09-19 20:26:26"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.629118"], ["updated_at", "2024-07-25 02:33:36.629118"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-10-03 19:53:24"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.632566"], ["updated_at", "2024-07-25 02:33:36.632566"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-10-17 09:26:47"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.636414"], ["updated_at", "2024-07-25 02:33:36.636414"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-10-31 09:02:36"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.640608"], ["updated_at", "2024-07-25 02:33:36.640608"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-11-15 00:36:52"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.644721"], ["updated_at", "2024-07-25 02:33:36.644721"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-11-28 10:20:22"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.649944"], ["updated_at", "2024-07-25 02:33:36.649944"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-12-12 08:10:07"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.653940"], ["updated_at", "2024-07-25 02:33:36.653940"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "4"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-06 01:40:51"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.658148"], ["updated_at", "2024-07-25 02:33:36.658148"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "3"], ["charge", "37.5"], ["credit", "0.0"], ["date", "2023-09-12 12:10:56"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.661919"], ["updated_at", "2024-07-25 02:33:36.661919"], ["balance", "37.5"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "2"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-19 23:22:14"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.665824"], ["updated_at", "2024-07-25 02:33:36.665824"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "1"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-26 14:15:38"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.670112"], ["updated_at", "2024-07-25 02:33:36.670112"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 8], ["procedure_code", "2"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-10-04 00:47:00"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.675080"], ["updated_at", "2024-07-25 02:33:36.675080"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "9973"], ["charge", "12.0"], ["credit", "0.0"], ["date", "2023-08-08 12:00:50"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.679177"], ["updated_at", "2024-07-25 02:33:36.679177"], ["balance", "12.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-08-22 20:36:04"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.682789"], ["updated_at", "2024-07-25 02:33:36.682789"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-09-06 01:19:53"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.686422"], ["updated_at", "2024-07-25 02:33:36.686422"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-09-20 00:06:14"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.690776"], ["updated_at", "2024-07-25 02:33:36.690776"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "381"], ["charge", "47.0"], ["credit", "0.0"], ["date", "2023-10-03 07:40:46"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.696070"], ["updated_at", "2024-07-25 02:33:36.696070"], ["balance", "47.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-10-17 06:27:55"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.701105"], ["updated_at", "2024-07-25 02:33:36.701105"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-10-31 03:02:46"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.706755"], ["updated_at", "2024-07-25 02:33:36.706755"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-11-15 02:39:31"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.712791"], ["updated_at", "2024-07-25 02:33:36.712791"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-11-28 12:35:47"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.718290"], ["updated_at", "2024-07-25 02:33:36.718290"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-12-13 01:20:43"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.724072"], ["updated_at", "2024-07-25 02:33:36.724072"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "2"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-05 10:13:34"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.728695"], ["updated_at", "2024-07-25 02:33:36.728695"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "2"], ["charge", "50.5"], ["credit", "0.0"], ["date", "2023-09-12 02:57:41"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.733705"], ["updated_at", "2024-07-25 02:33:36.733705"], ["balance", "50.5"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "1"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-19 05:47:49"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.738860"], ["updated_at", "2024-07-25 02:33:36.738860"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "1"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-26 22:12:11"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.742937"], ["updated_at", "2024-07-25 02:33:36.742937"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 9], ["procedure_code", "1"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-10-03 12:26:07"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.747496"], ["updated_at", "2024-07-25 02:33:36.747496"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-08-09 01:13:09"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.752491"], ["updated_at", "2024-07-25 02:33:36.752491"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-08-23 02:25:27"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.758313"], ["updated_at", "2024-07-25 02:33:36.758313"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-09-05 05:58:21"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.762513"], ["updated_at", "2024-07-25 02:33:36.762513"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-09-19 12:16:36"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.767071"], ["updated_at", "2024-07-25 02:33:36.767071"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "274"], ["charge", "31.0"], ["credit", "0.0"], ["date", "2023-10-03 12:05:14"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.771961"], ["updated_at", "2024-07-25 02:33:36.771961"], ["balance", "31.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "1120"], ["charge", "61.0"], ["credit", "0.0"], ["date", "2023-10-17 15:13:17"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.776281"], ["updated_at", "2024-07-25 02:33:36.776281"], ["balance", "61.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "6905"], ["charge", "25.0"], ["credit", "0.0"], ["date", "2023-11-01 02:02:46"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.780446"], ["updated_at", "2024-07-25 02:33:36.780446"], ["balance", "25.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "1206"], ["charge", "85.0"], ["credit", "0.0"], ["date", "2023-11-14 16:26:19"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.784789"], ["updated_at", "2024-07-25 02:33:36.784789"], ["balance", "85.0"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-11-28 20:28:57"], ["performed_by", "Dr. Smith"], ["created_at", "2024-07-25 02:33:36.788974"], ["updated_at", "2024-07-25 02:33:36.788974"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "2330"], ["charge", "45.0"], ["credit", "0.0"], ["date", "2023-12-12 18:14:33"], ["performed_by", "Cindy"], ["created_at", "2024-07-25 02:33:36.796975"], ["updated_at", "2024-07-25 02:33:36.796975"], ["balance", "45.0"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "1"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-05 08:14:24"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.803311"], ["updated_at", "2024-07-25 02:33:36.803311"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "3"], ["charge", "88.0"], ["credit", "0.0"], ["date", "2023-09-12 09:29:29"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.808699"], ["updated_at", "2024-07-25 02:33:36.808699"], ["balance", "88.0"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "2"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-19 14:42:37"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.812204"], ["updated_at", "2024-07-25 02:33:36.812204"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "4"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-09-26 14:06:44"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.816733"], ["updated_at", "2024-07-25 02:33:36.816733"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "procedure_code", "charge", "credit", "date", "performed_by", "created_at", "updated_at", "balance") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["patient_id", 10], ["procedure_code", "2"], ["charge", "12.75"], ["credit", "0.0"], ["date", "2023-10-03 06:06:10"], ["performed_by", ""], ["created_at", "2024-07-25 02:33:36.820508"], ["updated_at", "2024-07-25 02:33:36.820508"], ["balance", "12.75"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mTransaction Load (0.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2024-07-24 21:35:00 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 125.2ms | Allocations: 84988)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 128.5ms | Allocations: 87706)
Completed 200 OK in 158ms (Views: 100.4ms | ActiveRecord: 35.6ms | Allocations: 103869)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 21:35:24 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 7932)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 10298)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms | Allocations: 10964)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:35:31 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:24:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 54.7ms | Allocations: 50405)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 61.3ms | Allocations: 52765)
Completed 200 OK in 62ms (Views: 44.5ms | ActiveRecord: 17.2ms | Allocations: 53261)


  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2024-07-24 21:38:45 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 24.8ms | Allocations: 15576)
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 15702)
Completed 500 Internal Server Error in 58ms (ActiveRecord: 6.3ms | Allocations: 31822)


  
ActionView::Template::Error (undefined local variable or method `outstanding_balances_path' for #<ActionView::Base:0x0000000000a758>):
    10:   <header>
    11:     <nav>
    12:       <ul>
    13:         <li><%= link_to 'Outstanding Balances', outstanding_balances_path %></li>
    14:         <li><%= link_to 'Transactions', transactions_path %></li>
    15:         <li><%= link_to 'Patients', patients_path %></li>
    16:         <li><%= link_to 'Dashboard', dashboard_path %></li>
  
app/views/dashboard/index.html.erb:13
Started GET "/" for 127.0.0.1 at 2024-07-24 21:39:07 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:36:in `sort_by'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 108.1ms | Allocations: 76283)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 117.4ms | Allocations: 78957)
Completed 200 OK in 120ms (Views: 86.7ms | ActiveRecord: 31.4ms | Allocations: 82019)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:39:37 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:36:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (2.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (2.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 71.8ms | Allocations: 50373)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 75.3ms | Allocations: 52742)
Completed 200 OK in 77ms (Views: 53.5ms | ActiveRecord: 22.5ms | Allocations: 53221)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:40:08 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:36:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 64.0ms | Allocations: 50177)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 66.1ms | Allocations: 52539)
Completed 200 OK in 67ms (Views: 47.0ms | ActiveRecord: 19.7ms | Allocations: 52935)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:40:20 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:36:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (2.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 66.1ms | Allocations: 50210)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 68.8ms | Allocations: 52573)
Completed 200 OK in 70ms (Views: 48.0ms | ActiveRecord: 21.2ms | Allocations: 52981)


Started GET "/outstanding_balances" for 127.0.0.1 at 2024-07-24 21:40:24 -0500
  
ActionController::RoutingError (uninitialized constant OutstandingBalancesController):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 21:40:25 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:36:in `sort_by'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 62.3ms | Allocations: 50596)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 65.9ms | Allocations: 52984)
Completed 200 OK in 67ms (Views: 47.0ms | ActiveRecord: 19.3ms | Allocations: 53476)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:40:55 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:36:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 62.6ms | Allocations: 50194)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 66.8ms | Allocations: 52561)
Completed 200 OK in 68ms (Views: 46.5ms | ActiveRecord: 21.0ms | Allocations: 52967)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:41:26 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:36:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 68.2ms | Allocations: 50179)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 70.4ms | Allocations: 52541)
Completed 200 OK in 72ms (Views: 49.8ms | ActiveRecord: 21.3ms | Allocations: 52937)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:41:53 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 6000)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 6085)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms | Allocations: 9096)


  
ActionView::Template::Error (undefined local variable or method `payments_path' for #<ActionView::Base:0x00000000011490>):
    28: 
    29:   <!-- Navigation Buttons -->
    30:   <div>
    31:     <%= link_to 'Payments', payments_path, class: 'button' %>
    32:     <%= link_to 'Transactions', transactions_path, class: 'button' %>
    33:   </div>
    34: 
  
app/views/dashboard/index.html.erb:31
Started GET "/outstanding_balances" for 127.0.0.1 at 2024-07-24 21:41:57 -0500
  
ActionController::RoutingError (uninitialized constant OutstandingBalancesController):
  
Started GET "/outstanding_balances" for 127.0.0.1 at 2024-07-24 21:42:23 -0500
  
ActionController::RoutingError (No route matches [GET] "/outstanding_balances"):
  
Started GET "/outstanding_balances" for 127.0.0.1 at 2024-07-24 21:43:01 -0500
  
ActionController::RoutingError (No route matches [GET] "/outstanding_balances"):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 21:43:05 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 82.3ms | Allocations: 60702)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 86.9ms | Allocations: 63173)
Completed 200 OK in 90ms (Views: 61.7ms | ActiveRecord: 26.0ms | Allocations: 66153)


Started GET "/payments" for 127.0.0.1 at 2024-07-24 21:43:09 -0500
  
ActionController::RoutingError (No route matches [GET] "/payments"):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 21:43:11 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 67.9ms | Allocations: 50164)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 69.9ms | Allocations: 52526)
Completed 200 OK in 71ms (Views: 50.5ms | ActiveRecord: 19.8ms | Allocations: 52943)


Started GET "/transactions" for 127.0.0.1 at 2024-07-24 21:43:17 -0500
  
AbstractController::ActionNotFound (The action 'index' could not be found for TransactionsController):
  
actionpack (7.1.3.4) lib/abstract_controller/base.rb:155:in `process'
actionview (7.1.3.4) lib/action_view/rendering.rb:40:in `process'
actionpack (7.1.3.4) lib/action_controller/metal.rb:227:in `dispatch'
actionpack (7.1.3.4) lib/action_controller/metal.rb:309:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:51:in `block in serve'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.3.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.3.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/tempfile_reaper.rb:20:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/permissions_policy.rb:36:in `call'
actionpack (7.1.3.4) lib/action_dispatch/http/content_security_policy.rb:33:in `call'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:272:in `context'
rack-session (2.0.0) lib/rack/session/abstract/id.rb:266:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/cookies.rb:689:in `call'
activerecord (7.1.3.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.3.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.3.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
web-console (4.1.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.1.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.1.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.3.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `block in tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.3.4) lib/active_support/tagged_logging.rb:135:in `tagged'
activesupport (7.1.3.4) lib/active_support/broadcast_logger.rb:240:in `method_missing'
railties (7.1.3.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.5.1) lib/sprockets/rails/quiet_assets.rb:17:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/method_override.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.3.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
actionpack (7.1.3.4) lib/action_dispatch/middleware/host_authorization.rb:141:in `call'
rack-mini-profiler (2.3.3) lib/mini_profiler/profiler.rb:393:in `call'
webpacker (5.4.3) lib/webpacker/dev_server_proxy.rb:25:in `perform_request'
rack-proxy (0.7.0) lib/rack/proxy.rb:63:in `call'
railties (7.1.3.4) lib/rails/engine.rb:536:in `call'
puma (5.5.2) lib/puma/configuration.rb:249:in `call'
puma (5.5.2) lib/puma/request.rb:77:in `block in handle_request'
puma (5.5.2) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.5.2) lib/puma/request.rb:76:in `handle_request'
puma (5.5.2) lib/puma/server.rb:447:in `process_client'
puma (5.5.2) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2024-07-24 21:43:18 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (4.2ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (5.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (4.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 102.6ms | Allocations: 50559)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 106.0ms | Allocations: 52946)
Completed 200 OK in 107ms (Views: 77.2ms | ActiveRecord: 29.1ms | Allocations: 53436)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:43:48 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 59.9ms | Allocations: 50151)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 62.4ms | Allocations: 52513)
Completed 200 OK in 64ms (Views: 45.2ms | ActiveRecord: 17.6ms | Allocations: 52909)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:44:18 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (3.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (2.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.5ms | Allocations: 50158)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 73.0ms | Allocations: 52520)
Completed 200 OK in 74ms (Views: 49.1ms | ActiveRecord: 24.3ms | Allocations: 52916)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:44:22 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (2.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 60.0ms | Allocations: 50154)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 62.0ms | Allocations: 52516)
Completed 200 OK in 63ms (Views: 42.8ms | ActiveRecord: 19.5ms | Allocations: 52912)


Started GET "/payments" for 127.0.0.1 at 2024-07-24 21:44:23 -0500
  
ActionController::RoutingError (No route matches [GET] "/payments"):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 21:44:24 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 63.6ms | Allocations: 50159)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 65.8ms | Allocations: 52521)
Completed 200 OK in 66ms (Views: 46.8ms | ActiveRecord: 19.2ms | Allocations: 52917)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:44:54 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (3.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 80.8ms | Allocations: 50151)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 83.5ms | Allocations: 52513)
Completed 200 OK in 87ms (Views: 64.9ms | ActiveRecord: 21.0ms | Allocations: 52931)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:45:25 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 57.8ms | Allocations: 50158)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 59.5ms | Allocations: 52520)
Completed 200 OK in 60ms (Views: 42.5ms | ActiveRecord: 17.3ms | Allocations: 52916)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:45:55 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (2.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (2.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 66.2ms | Allocations: 50176)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 68.8ms | Allocations: 52538)
Completed 200 OK in 70ms (Views: 48.2ms | ActiveRecord: 21.0ms | Allocations: 52934)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:46:25 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (7.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 88.2ms | Allocations: 50151)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 91.3ms | Allocations: 52513)
Completed 200 OK in 92ms (Views: 65.9ms | ActiveRecord: 25.7ms | Allocations: 52909)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:46:40 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (1.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 66.1ms | Allocations: 50312)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 68.9ms | Allocations: 52685)
Completed 200 OK in 70ms (Views: 48.8ms | ActiveRecord: 20.6ms | Allocations: 53092)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:46:44 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 91.4ms | Allocations: 60479)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 97.4ms | Allocations: 62948)
Completed 200 OK in 101ms (Views: 73.5ms | ActiveRecord: 25.4ms | Allocations: 65980)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:47:01 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 84.2ms | Allocations: 60743)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 87.1ms | Allocations: 63210)
Completed 200 OK in 91ms (Views: 60.8ms | ActiveRecord: 27.3ms | Allocations: 66242)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:47:32 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 65.4ms | Allocations: 50153)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 68.1ms | Allocations: 52515)
Completed 200 OK in 69ms (Views: 47.9ms | ActiveRecord: 20.5ms | Allocations: 52952)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:47:45 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 81.6ms | Allocations: 60573)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 86.3ms | Allocations: 63042)
Completed 200 OK in 90ms (Views: 61.3ms | ActiveRecord: 25.8ms | Allocations: 66074)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:48:15 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 61.4ms | Allocations: 50058)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 76.0ms | Allocations: 52415)
Completed 200 OK in 77ms (Views: 58.0ms | ActiveRecord: 18.5ms | Allocations: 52863)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:48:28 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (2.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (2.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (2.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 96.9ms | Allocations: 60572)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 103.9ms | Allocations: 63039)
Completed 200 OK in 110ms (Views: 73.3ms | ActiveRecord: 32.8ms | Allocations: 66071)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:48:58 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (3.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 124.6ms | Allocations: 73362)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 128.5ms | Allocations: 75831)
Completed 200 OK in 133ms (Views: 97.9ms | ActiveRecord: 31.4ms | Allocations: 78863)


Started GET "/" for 127.0.0.1 at 2024-07-24 21:49:28 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (2.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 113.9ms | Allocations: 73313)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 116.4ms | Allocations: 75784)
Completed 200 OK in 120ms (Views: 86.6ms | ActiveRecord: 30.7ms | Allocations: 78816)


Started GET "/" for ::1 at 2024-07-24 21:50:01 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 119.2ms | Allocations: 73258)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 123.5ms | Allocations: 75727)
Completed 200 OK in 130ms (Views: 92.6ms | ActiveRecord: 32.2ms | Allocations: 78759)


Started GET "/payments" for ::1 at 2024-07-24 21:50:43 -0500
  
ActionController::RoutingError (No route matches [GET] "/payments"):
  
Started GET "/" for ::1 at 2024-07-24 21:50:45 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 87.4ms | Allocations: 73294)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 90.4ms | Allocations: 75770)
Completed 200 OK in 93ms (Views: 65.3ms | ActiveRecord: 25.8ms | Allocations: 78750)


Started GET "/" for ::1 at 2024-07-24 21:51:15 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (2.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 84.7ms | Allocations: 62784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 87.7ms | Allocations: 65146)
Completed 200 OK in 89ms (Views: 64.7ms | ActiveRecord: 23.4ms | Allocations: 65583)


Started GET "/" for ::1 at 2024-07-24 21:51:45 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (5.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (6.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 142.2ms | Allocations: 62789)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 144.8ms | Allocations: 65151)
Completed 200 OK in 146ms (Views: 113.4ms | ActiveRecord: 31.7ms | Allocations: 65547)


Started GET "/" for ::1 at 2024-07-24 21:52:15 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:47:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 66.6ms | Allocations: 62787)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 69.9ms | Allocations: 65149)
Completed 200 OK in 71ms (Views: 52.2ms | ActiveRecord: 18.1ms | Allocations: 65545)


Started GET "/" for ::1 at 2024-07-24 21:52:45 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 6070)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 6155)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 9166)


  
ActionView::Template::Error (undefined local variable or method `transactions_path' for #<ActionView::Base:0x000000000336a8>):
    29:   <!-- Navigation Buttons -->
    30:   <div>
    31:     <%= link_to 'Payments', payments_path, class: 'button' %>
    32:     <%= link_to 'Transactions', transactions_path, class: 'button' %>
    33:   </div>
    34: 
    35:   <div>
  
app/views/dashboard/index.html.erb:32
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreatePayments (20240725025659)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (23.4ms)[0m  [1m[35mCREATE TABLE "payments" ("id" bigserial primary key, "patient_id" integer, "charge" decimal, "credit" decimal, "date" timestamp(6), "performed_by" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240725025659') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(661840412039056215)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2024-07-24 21:59:30 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  Rendered dashboard/index.html.erb within layouts/application (Duration: 30.3ms | Allocations: 15688)
  Rendered layout layouts/application.html.erb (Duration: 30.7ms | Allocations: 15814)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 5.4ms | Allocations: 31934)


  
ActionView::Template::Error (undefined local variable or method `transactions_path' for #<ActionView::Base:0x0000000000a550>):
    29:   <!-- Navigation Buttons -->
    30:   <div>
    31:     <%= link_to 'Payments', payments_path, class: 'button' %>
    32:     <%= link_to 'Transactions', transactions_path, class: 'button' %>
    33:   </div>
    34: 
    35:   <div>
  
app/views/dashboard/index.html.erb:32
Started GET "/" for 127.0.0.1 at 2024-07-24 22:00:21 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (2.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 122.4ms | Allocations: 88722)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 125.8ms | Allocations: 91406)
Completed 200 OK in 129ms (Views: 92.0ms | ActiveRecord: 34.6ms | Allocations: 94468)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:00:51 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (4.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 87.6ms | Allocations: 62933)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 90.9ms | Allocations: 65297)
Completed 200 OK in 92ms (Views: 66.2ms | ActiveRecord: 25.2ms | Allocations: 65768)


Started GET "/payments" for 127.0.0.1 at 2024-07-24 22:00:56 -0500
  
ActionController::RoutingError (No route matches [GET] "/payments"):
  
Started GET "/" for 127.0.0.1 at 2024-07-24 22:03:51 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.1ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 125.3ms | Allocations: 97772)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 128.1ms | Allocations: 100500)
Completed 200 OK in 155ms (Views: 102.3ms | ActiveRecord: 32.7ms | Allocations: 116663)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:03:52 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 7915)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 10276)
Completed 200 OK in 16ms (Views: 9.4ms | ActiveRecord: 2.5ms | Allocations: 15506)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:06:36 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 15.4ms | Allocations: 6371)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 8790)
Completed 200 OK in 31ms (Views: 19.3ms | ActiveRecord: 6.3ms | Allocations: 14909)


Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:07:19 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"5.02", "credit"=>"20.90", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"06", "performed_by"=>"Mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (2.6ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "5.02"], ["credit", "20.9"], ["date", "2024-07-25 03:06:00"], ["performed_by", "Mike"], ["created_at", "2024-07-25 03:07:19.933651"], ["updated_at", "2024-07-25 03:07:19.933651"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 9ms (ActiveRecord: 4.3ms | Allocations: 4555)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:07:19 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 86.5ms | Allocations: 72920)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 95.1ms | Allocations: 75217)
Completed 200 OK in 98ms (Views: 69.6ms | ActiveRecord: 26.2ms | Allocations: 77463)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:07:50 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 89.8ms | Allocations: 62771)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 91.9ms | Allocations: 65128)
Completed 200 OK in 93ms (Views: 67.7ms | ActiveRecord: 24.6ms | Allocations: 65547)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:08:14 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 5596)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 7860)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 8231)


Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:08:48 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"200", "credit"=>"200", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"08", "performed_by"=>"Mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (1.8ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "200.0"], ["credit", "200.0"], ["date", "2024-07-25 03:08:00"], ["performed_by", "Mike"], ["created_at", "2024-07-25 03:08:48.559778"], ["updated_at", "2024-07-25 03:08:48.559778"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 6ms (ActiveRecord: 3.1ms | Allocations: 3104)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:08:48 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 77.1ms | Allocations: 62764)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 79.5ms | Allocations: 65126)
Completed 200 OK in 80ms (Views: 59.7ms | ActiveRecord: 20.2ms | Allocations: 65522)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:08:59 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 86.6ms | Allocations: 62761)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 94.8ms | Allocations: 65123)
Completed 200 OK in 96ms (Views: 71.8ms | ActiveRecord: 23.4ms | Allocations: 65520)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:09:29 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (4.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (2.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (2.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 81.9ms | Allocations: 62761)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 84.0ms | Allocations: 65135)
Completed 200 OK in 85ms (Views: 59.0ms | ActiveRecord: 25.7ms | Allocations: 65542)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:10:00 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 85.1ms | Allocations: 62767)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 87.4ms | Allocations: 65130)
Completed 200 OK in 88ms (Views: 66.9ms | ActiveRecord: 20.9ms | Allocations: 65540)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:10:31 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 77.6ms | Allocations: 62760)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 79.7ms | Allocations: 65122)
Completed 200 OK in 80ms (Views: 58.4ms | ActiveRecord: 21.6ms | Allocations: 65519)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:11:02 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 90.8ms | Allocations: 73253)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 93.7ms | Allocations: 75722)
Completed 200 OK in 97ms (Views: 70.8ms | ActiveRecord: 23.9ms | Allocations: 78755)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:11:33 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 97.2ms | Allocations: 62767)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 99.8ms | Allocations: 65129)
Completed 200 OK in 101ms (Views: 73.8ms | ActiveRecord: 26.6ms | Allocations: 65567)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:12:04 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:11:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:6:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 66.4ms | Allocations: 62784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 68.2ms | Allocations: 65144)
Completed 200 OK in 69ms (Views: 50.4ms | ActiveRecord: 18.1ms | Allocations: 65540)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:12:35 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 84.2ms | Allocations: 74060)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 86.7ms | Allocations: 76637)
Completed 200 OK in 90ms (Views: 64.6ms | ActiveRecord: 22.8ms | Allocations: 79312)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:13:06 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 138.3ms | Allocations: 74026)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 141.1ms | Allocations: 76603)
Completed 200 OK in 144ms (Views: 118.0ms | ActiveRecord: 23.9ms | Allocations: 79217)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:13:37 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 69.5ms | Allocations: 62833)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 71.2ms | Allocations: 65191)
Completed 200 OK in 72ms (Views: 53.3ms | ActiveRecord: 18.3ms | Allocations: 65646)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:13:39 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 6379)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 8791)
Completed 200 OK in 15ms (Views: 7.9ms | ActiveRecord: 2.3ms | Allocations: 15216)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:14:52 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (2.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (3.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 100.8ms | Allocations: 74038)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 103.5ms | Allocations: 76615)
Completed 200 OK in 108ms (Views: 73.7ms | ActiveRecord: 30.5ms | Allocations: 79225)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:15:05 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 6340)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 8584)
Completed 200 OK in 15ms (Views: 6.5ms | ActiveRecord: 4.8ms | Allocations: 13923)


Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:15:23 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"5", "charge"=>"200", "credit"=>"0.00", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"15", "performed_by"=>"Mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (0.8ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 5], ["charge", "200.0"], ["credit", "0.0"], ["date", "2024-07-25 03:15:00"], ["performed_by", "Mike"], ["created_at", "2024-07-25 03:15:23.020751"], ["updated_at", "2024-07-25 03:15:23.020751"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.3ms | Allocations: 8472)


  
ActiveModel::UnknownAttributeError (unknown attribute 'outstanding_balance' for Patient.):
  
app/models/payment.rb:9:in `update_patient_balance'
app/controllers/payments_controller.rb:8:in `create'
Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:15:43 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 5796)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 8041)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 8504)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:15:48 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 81.4ms | Allocations: 63049)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 83.5ms | Allocations: 65411)
Completed 200 OK in 84ms (Views: 65.2ms | ActiveRecord: 18.7ms | Allocations: 65832)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:16:18 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (4.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 75.0ms | Allocations: 62801)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 77.0ms | Allocations: 65163)
Completed 200 OK in 78ms (Views: 55.5ms | ActiveRecord: 22.2ms | Allocations: 65572)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:16:49 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (5.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 143.2ms | Allocations: 74102)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 155.1ms | Allocations: 76680)
Completed 200 OK in 159ms (Views: 118.8ms | ActiveRecord: 37.3ms | Allocations: 79294)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:17:20 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 85.2ms | Allocations: 74070)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 87.3ms | Allocations: 76645)
Completed 200 OK in 90ms (Views: 64.4ms | ActiveRecord: 23.8ms | Allocations: 78994)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:17:41 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 40.6ms | Allocations: 28875)
  Rendered layout layouts/application.html.erb (Duration: 40.8ms | Allocations: 28962)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 16.0ms | Allocations: 31254)


  
ActionView::Template::Error (undefined method `outstanding_balance' for nil:NilClass):
    48:             <td><%= patient.id %></td>
    49:             <td><%= patient.name %></td>
    50:             <td><%= patient.contact_info %></td>
    51:             <%= number_to_currency(@patient.outstanding_balance) %>
    52:           </tr>
    53:         <% end %>
    54:       </tbody>
  
app/views/dashboard/index.html.erb:51
app/views/dashboard/index.html.erb:46:in `each'
app/views/dashboard/index.html.erb:46
Started GET "/" for 127.0.0.1 at 2024-07-24 22:18:20 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 127.4ms | Allocations: 74081)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 132.0ms | Allocations: 76658)
Completed 200 OK in 134ms (Views: 110.5ms | ActiveRecord: 22.2ms | Allocations: 78969)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:18:50 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (1.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 111.0ms | Allocations: 62874)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 113.3ms | Allocations: 65237)
Completed 200 OK in 114ms (Views: 91.5ms | ActiveRecord: 22.1ms | Allocations: 65693)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:19:20 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 68.7ms | Allocations: 62822)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 71.3ms | Allocations: 65184)
Completed 200 OK in 72ms (Views: 54.0ms | ActiveRecord: 17.6ms | Allocations: 65580)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:19:51 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 76.3ms | Allocations: 62810)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 78.1ms | Allocations: 65167)
Completed 200 OK in 79ms (Views: 57.7ms | ActiveRecord: 20.7ms | Allocations: 65563)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:20:21 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 67.6ms | Allocations: 62823)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 69.7ms | Allocations: 65185)
Completed 200 OK in 71ms (Views: 53.1ms | ActiveRecord: 17.0ms | Allocations: 65581)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:20:52 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 71.5ms | Allocations: 62801)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 74.1ms | Allocations: 65175)
Completed 200 OK in 75ms (Views: 56.3ms | ActiveRecord: 18.1ms | Allocations: 65571)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:21:23 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 75.9ms | Allocations: 62806)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 79.1ms | Allocations: 65168)
Completed 200 OK in 80ms (Views: 59.4ms | ActiveRecord: 20.0ms | Allocations: 65564)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:21:54 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 72.5ms | Allocations: 62806)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 75.0ms | Allocations: 65168)
Completed 200 OK in 76ms (Views: 56.8ms | ActiveRecord: 18.9ms | Allocations: 65576)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:22:13 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (3.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 90.4ms | Allocations: 74103)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 92.7ms | Allocations: 76680)
Completed 200 OK in 95ms (Views: 65.1ms | ActiveRecord: 28.5ms | Allocations: 78991)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:22:15 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 6347)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 8591)
Completed 200 OK in 14ms (Views: 7.4ms | ActiveRecord: 2.5ms | Allocations: 14176)


Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:22:28 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"200", "credit"=>"0.00", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"22", "performed_by"=>"Mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.7ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "200.0"], ["credit", "0.0"], ["date", "2024-07-25 03:22:00"], ["performed_by", "Mike"], ["created_at", "2024-07-25 03:22:28.421710"], ["updated_at", "2024-07-25 03:22:28.421710"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.5ms | Allocations: 8139)


  
ActiveModel::UnknownAttributeError (unknown attribute 'outstanding_balance' for Patient.):
  
app/controllers/payments_controller.rb:24:in `update_patient_balance'
app/controllers/payments_controller.rb:9:in `create'
Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:24:39 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"200", "credit"=>"0.00", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"22", "performed_by"=>"Mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.7ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (1.1ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "200.0"], ["credit", "0.0"], ["date", "2024-07-25 03:22:00"], ["performed_by", "Mike"], ["created_at", "2024-07-25 03:24:39.508425"], ["updated_at", "2024-07-25 03:24:39.508425"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 20ms (ActiveRecord: 8.9ms | Allocations: 15346)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:24:39 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 76.7ms | Allocations: 71016)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 83.3ms | Allocations: 73584)
Completed 200 OK in 85ms (Views: 62.9ms | ActiveRecord: 21.1ms | Allocations: 74790)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:24:44 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 6135)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 8378)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 8935)


Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:24:51 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"200", "credit"=>"0.00", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"24", "performed_by"=>"Mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "200.0"], ["credit", "0.0"], ["date", "2024-07-25 03:24:00"], ["performed_by", "Mike"], ["created_at", "2024-07-25 03:24:51.740650"], ["updated_at", "2024-07-25 03:24:51.740650"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 6ms (ActiveRecord: 2.6ms | Allocations: 4326)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:24:51 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 74.5ms | Allocations: 62812)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 76.3ms | Allocations: 65174)
Completed 200 OK in 77ms (Views: 57.0ms | ActiveRecord: 19.7ms | Allocations: 65574)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:24:57 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 5528)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 7770)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 8136)


Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:25:05 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"200", "credit"=>"0.00", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"24", "performed_by"=>"mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "200.0"], ["credit", "0.0"], ["date", "2024-07-25 03:24:00"], ["performed_by", "mike"], ["created_at", "2024-07-25 03:25:05.774954"], ["updated_at", "2024-07-25 03:25:05.774954"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 12ms (ActiveRecord: 4.3ms | Allocations: 4217)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:25:05 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 122.2ms | Allocations: 62800)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 124.1ms | Allocations: 65162)
Completed 200 OK in 125ms (Views: 104.7ms | ActiveRecord: 19.8ms | Allocations: 65558)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:25:36 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (2.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (2.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:12:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:7:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 91.2ms | Allocations: 62823)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 93.8ms | Allocations: 65185)
Completed 200 OK in 95ms (Views: 70.0ms | ActiveRecord: 24.3ms | Allocations: 65581)


  [1m[36mPayment Load (1.7ms)[0m  [1m[34mSELECT "payments".* FROM "payments" ORDER BY "payments"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2024-07-24 22:29:19 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (5.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 285.3ms | Allocations: 134660)
[Webpacker] Compiling...
[Webpacker] Compilation failed:
Hash: 554000009b71bcff4a54
Version: webpack 4.47.0
Time: 200ms
Built at: 07/24/2024 10:29:20 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-929a001acda50d2860e5.js   9.01 KiB  application  [emitted] [immutable]  application
js/application-929a001acda50d2860e5.js.map   3.53 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-929a001acda50d2860e5.js js/application-929a001acda50d2860e5.js.map
[./app/javascript/packs/application.js] 5.12 KiB {application} [built] [failed] [1 error]

ERROR in ./app/javascript/packs/application.js
Module build failed (from ./node_modules/babel-loader/lib/index.js):
Error: Cannot find package '@babel/plugin-proposal-private-methods' imported from /home/mchavez76/apex/sample-rails-app/babel-virtual-resolve-base.js
    at new NodeError (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:195:5)
    at packageResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:899:9)
    at moduleResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:939:18)
    at defaultResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:1017:15)
    at resolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/vendor/import-meta-resolve.js:1030:12)
    at tryImportMetaResolve (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:142:45)
    at resolveStandardizedNameForImport (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:164:19)
    at resolveStandardizedName (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:173:22)
    at loadPlugin (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/files/plugins.js:52:20)
    at loadPlugin.next (<anonymous>)
    at createDescriptor (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:140:16)
    at createDescriptor.next (<anonymous>)
    at step (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:261:32)
    at evaluateAsync (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:291:5)
    at /home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:44:11
    at Array.forEach (<anonymous>)
    at Function.async (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:43:15)
    at Function.all (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:216:13)
    at Generator.next (<anonymous>)
    at createDescriptors (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:102:41)
    at createDescriptors.next (<anonymous>)
    at createPluginDescriptors (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-descriptors.js:99:17)
    at createPluginDescriptors.next (<anonymous>)
    at /home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/gensync-utils/functional.js:39:27
    at Generator.next (<anonymous>)
    at mergeChainOpts (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:349:34)
    at mergeChainOpts.next (<anonymous>)
    at chainWalker (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:316:14)
    at chainWalker.next (<anonymous>)
    at loadFileChain (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:191:24)
    at loadFileChain.next (<anonymous>)
    at buildRootChain (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/config-chain.js:77:27)
    at buildRootChain.next (<anonymous>)
    at loadPrivatePartialConfig (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/partial.js:72:62)
    at loadPrivatePartialConfig.next (<anonymous>)
    at loadPartialConfig (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/partial.js:115:25)
    at loadPartialConfig.next (<anonymous>)
    at step (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:269:25)
    at evaluateAsync (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:291:5)
    at /home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:93:9
    at new Promise (<anonymous>)
    at async (/home/mchavez76/apex/sample-rails-app/node_modules/gensync/index.js:92:14)
    at stopHiding - secret - don't use this - v1 (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/errors/rewrite-stack-trace.js:47:12)
    at loadPartialConfigAsync (/home/mchavez76/apex/sample-rails-app/node_modules/@babel/core/lib/config/index.js:34:85)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:126:26)
    at Generator.next (<anonymous>)
    at asyncGeneratorStep (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:3:103)
    at _next (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:194)
    at /home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:364
    at new Promise (<anonymous>)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:4:97)
    at Object._loader (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:210:18)
    at Object.loader (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:48:18)
    at Object.<anonymous> (/home/mchavez76/apex/sample-rails-app/node_modules/babel-loader/lib/index.js:44:12)

  Rendered layout layouts/application.html.erb (Duration: 1451.4ms | Allocations: 137986)
Completed 200 OK in 1499ms (Views: 1421.9ms | ActiveRecord: 39.2ms | Allocations: 158713)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:29:21 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 8642)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 11003)
Completed 200 OK in 22ms (Views: 15.5ms | ActiveRecord: 2.8ms | Allocations: 16651)


Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:29:29 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"200", "credit"=>"0.00", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"29", "performed_by"=>"Mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (0.8ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "200.0"], ["credit", "0.0"], ["date", "2024-07-25 03:29:00"], ["performed_by", "Mike"], ["created_at", "2024-07-25 03:29:29.764190"], ["updated_at", "2024-07-25 03:29:29.764190"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTransaction Create (2.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "charge", "credit", "date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["patient_id", 1], ["charge", "200.0"], ["credit", "0.0"], ["date", "2024-07-25 03:29:00"], ["created_at", "2024-07-25 03:29:29.767729"], ["updated_at", "2024-07-25 03:29:29.767729"]]
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 13ms (ActiveRecord: 6.2ms | Allocations: 10564)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:29:29 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 78.1ms | Allocations: 63022)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 80.4ms | Allocations: 65409)
Completed 200 OK in 81ms (Views: 61.7ms | ActiveRecord: 19.0ms | Allocations: 65859)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:29:35 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 5592)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 7834)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 8211)


Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:29:45 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"0.00", "credit"=>"200", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"29", "performed_by"=>"mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "0.0"], ["credit", "200.0"], ["date", "2024-07-25 03:29:00"], ["performed_by", "mike"], ["created_at", "2024-07-25 03:29:45.340535"], ["updated_at", "2024-07-25 03:29:45.340535"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTransaction Create (1.8ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "charge", "credit", "date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["patient_id", 1], ["charge", "0.0"], ["credit", "200.0"], ["date", "2024-07-25 03:29:00"], ["created_at", "2024-07-25 03:29:45.343856"], ["updated_at", "2024-07-25 03:29:45.343856"]]
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 11ms (ActiveRecord: 5.8ms | Allocations: 7191)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:29:45 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 72.7ms | Allocations: 62797)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 76.0ms | Allocations: 65160)
Completed 200 OK in 77ms (Views: 57.4ms | ActiveRecord: 19.0ms | Allocations: 65557)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:29:49 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 5527)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 7797)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 8163)


Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:29:59 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"0.00", "credit"=>"500", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"29", "performed_by"=>"mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "0.0"], ["credit", "500.0"], ["date", "2024-07-25 03:29:00"], ["performed_by", "mike"], ["created_at", "2024-07-25 03:29:59.212092"], ["updated_at", "2024-07-25 03:29:59.212092"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTransaction Create (1.4ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "charge", "credit", "date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["patient_id", 1], ["charge", "0.0"], ["credit", "500.0"], ["date", "2024-07-25 03:29:00"], ["created_at", "2024-07-25 03:29:59.215248"], ["updated_at", "2024-07-25 03:29:59.215248"]]
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 10ms (ActiveRecord: 5.4ms | Allocations: 7160)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:29:59 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (2.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 75.0ms | Allocations: 62801)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 77.1ms | Allocations: 65163)
Completed 200 OK in 78ms (Views: 56.8ms | ActiveRecord: 20.6ms | Allocations: 65559)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:30:29 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.9ms | Allocations: 62804)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 73.0ms | Allocations: 65166)
Completed 200 OK in 74ms (Views: 53.7ms | ActiveRecord: 19.9ms | Allocations: 65586)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:30:59 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 84.1ms | Allocations: 62800)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 89.5ms | Allocations: 65162)
Completed 200 OK in 90ms (Views: 68.3ms | ActiveRecord: 21.5ms | Allocations: 65558)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:31:29 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 89.4ms | Allocations: 74079)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 92.4ms | Allocations: 76652)
Completed 200 OK in 95ms (Views: 69.5ms | ActiveRecord: 23.8ms | Allocations: 78963)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-24 22:31:31 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 6340)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 8589)
Completed 200 OK in 19ms (Views: 13.8ms | ActiveRecord: 2.4ms | Allocations: 14117)


Started POST "/payments" for 127.0.0.1 at 2024-07-24 22:31:48 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"900", "credit"=>"0.00", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"31", "performed_by"=>"Jon"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (0.5ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "900.0"], ["credit", "0.0"], ["date", "2024-07-25 03:31:00"], ["performed_by", "Jon"], ["created_at", "2024-07-25 03:31:48.381339"], ["updated_at", "2024-07-25 03:31:48.381339"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTransaction Create (1.9ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "charge", "credit", "date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["patient_id", 1], ["charge", "900.0"], ["credit", "0.0"], ["date", "2024-07-25 03:31:00"], ["created_at", "2024-07-25 03:31:48.385189"], ["updated_at", "2024-07-25 03:31:48.385189"]]
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 13ms (ActiveRecord: 7.0ms | Allocations: 9183)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:31:48 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (3.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 75.4ms | Allocations: 62894)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 77.5ms | Allocations: 65254)
Completed 200 OK in 78ms (Views: 57.1ms | ActiveRecord: 20.8ms | Allocations: 65662)


Started GET "/" for 127.0.0.1 at 2024-07-24 22:32:18 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (2.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 106.0ms | Allocations: 62846)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 108.5ms | Allocations: 65208)
Completed 200 OK in 109ms (Views: 86.7ms | ActiveRecord: 22.3ms | Allocations: 65604)


Started GET "/" for ::1 at 2024-07-24 22:43:50 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (2.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 166.0ms | Allocations: 98938)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 172.2ms | Allocations: 101666)
Completed 200 OK in 205ms (Views: 136.5ms | ActiveRecord: 44.0ms | Allocations: 116717)


Started GET "/" for ::1 at 2024-07-24 22:44:20 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 77.8ms | Allocations: 63241)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 80.6ms | Allocations: 65624)
Completed 200 OK in 82ms (Views: 61.6ms | ActiveRecord: 20.1ms | Allocations: 66173)


Started GET "/" for ::1 at 2024-07-24 22:44:50 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.1ms | Allocations: 62822)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 72.9ms | Allocations: 65185)
Completed 200 OK in 74ms (Views: 54.5ms | ActiveRecord: 18.8ms | Allocations: 65593)


Started GET "/" for ::1 at 2024-07-24 22:45:20 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (3.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (3.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 87.4ms | Allocations: 62815)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 89.5ms | Allocations: 65177)
Completed 200 OK in 90ms (Views: 64.6ms | ActiveRecord: 25.1ms | Allocations: 65573)


Started GET "/payments/new" for ::1 at 2024-07-24 22:45:26 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 9.1ms | Allocations: 7883)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 10244)
Completed 200 OK in 19ms (Views: 11.7ms | ActiveRecord: 2.7ms | Allocations: 15910)


Started POST "/payments" for ::1 at 2024-07-24 22:45:46 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"0.00", "credit"=>"1000", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"45", "performed_by"=>"Mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (0.7ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "0.0"], ["credit", "1000.0"], ["date", "2024-07-25 03:45:00"], ["performed_by", "Mike"], ["created_at", "2024-07-25 03:45:46.273126"], ["updated_at", "2024-07-25 03:45:46.273126"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTransaction Create (3.1ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "charge", "credit", "date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["patient_id", 1], ["charge", "0.0"], ["credit", "1000.0"], ["date", "2024-07-25 03:45:00"], ["created_at", "2024-07-25 03:45:46.278089"], ["updated_at", "2024-07-25 03:45:46.278089"]]
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
Redirected to http://localhost:3000/
Completed 302 Found in 16ms (ActiveRecord: 8.3ms | Allocations: 10567)


Started GET "/" for ::1 at 2024-07-24 22:45:46 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.1ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 104.6ms | Allocations: 63030)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 108.0ms | Allocations: 65417)
Completed 200 OK in 109ms (Views: 81.9ms | ActiveRecord: 26.4ms | Allocations: 65867)


Started GET "/" for ::1 at 2024-07-24 22:46:16 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (6.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 85.8ms | Allocations: 62801)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 88.1ms | Allocations: 65163)
Completed 200 OK in 89ms (Views: 61.3ms | ActiveRecord: 27.1ms | Allocations: 65559)


Started GET "/" for ::1 at 2024-07-24 22:46:46 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 79.3ms | Allocations: 62799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 82.5ms | Allocations: 65173)
Completed 200 OK in 84ms (Views: 62.4ms | ActiveRecord: 20.7ms | Allocations: 65579)


Started GET "/" for ::1 at 2024-07-24 22:47:16 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 67.3ms | Allocations: 62822)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 69.3ms | Allocations: 65184)
Completed 200 OK in 70ms (Views: 50.3ms | ActiveRecord: 19.3ms | Allocations: 65580)


Started GET "/" for ::1 at 2024-07-24 22:47:46 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.2ms | Allocations: 62802)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 71.9ms | Allocations: 65164)
Completed 200 OK in 73ms (Views: 54.5ms | ActiveRecord: 17.7ms | Allocations: 65560)


Started GET "/" for ::1 at 2024-07-24 22:48:16 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (2.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 77.9ms | Allocations: 62806)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 79.7ms | Allocations: 65168)
Completed 200 OK in 80ms (Views: 60.4ms | ActiveRecord: 19.6ms | Allocations: 65564)


Started GET "/" for ::1 at 2024-07-24 22:48:46 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 64.3ms | Allocations: 62821)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 66.5ms | Allocations: 65183)
Completed 200 OK in 67ms (Views: 49.5ms | ActiveRecord: 17.4ms | Allocations: 65579)


Started GET "/" for ::1 at 2024-07-24 22:49:17 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 62.8ms | Allocations: 62813)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 64.8ms | Allocations: 65175)
Completed 200 OK in 66ms (Views: 48.4ms | ActiveRecord: 16.9ms | Allocations: 65580)


Started GET "/" for ::1 at 2024-07-24 22:49:47 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 63.2ms | Allocations: 62805)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 65.2ms | Allocations: 65167)
Completed 200 OK in 66ms (Views: 48.0ms | ActiveRecord: 17.5ms | Allocations: 65563)


Started GET "/" for ::1 at 2024-07-24 22:50:17 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (3.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 77.0ms | Allocations: 62801)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 78.9ms | Allocations: 65163)
Completed 200 OK in 80ms (Views: 61.1ms | ActiveRecord: 18.3ms | Allocations: 65559)


Started GET "/" for ::1 at 2024-07-24 22:50:47 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 71.9ms | Allocations: 62801)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 74.5ms | Allocations: 65163)
Completed 200 OK in 75ms (Views: 56.6ms | ActiveRecord: 18.2ms | Allocations: 65559)


Started GET "/" for ::1 at 2024-07-24 22:51:17 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 79.0ms | Allocations: 62811)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 81.3ms | Allocations: 65173)
Completed 200 OK in 82ms (Views: 60.0ms | ActiveRecord: 21.7ms | Allocations: 65569)


Started GET "/" for ::1 at 2024-07-24 22:51:47 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 60.2ms | Allocations: 62800)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 62.4ms | Allocations: 65162)
Completed 200 OK in 63ms (Views: 46.4ms | ActiveRecord: 16.6ms | Allocations: 65570)


Started GET "/" for ::1 at 2024-07-24 22:52:17 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.2ms | Allocations: 62804)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 71.9ms | Allocations: 65166)
Completed 200 OK in 73ms (Views: 54.3ms | ActiveRecord: 18.0ms | Allocations: 65562)


Started GET "/" for ::1 at 2024-07-24 22:52:47 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 71.9ms | Allocations: 62823)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 74.4ms | Allocations: 65186)
Completed 200 OK in 75ms (Views: 55.7ms | ActiveRecord: 19.0ms | Allocations: 65582)


Started GET "/" for ::1 at 2024-07-24 22:53:17 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 67.5ms | Allocations: 62823)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 69.8ms | Allocations: 65185)
Completed 200 OK in 70ms (Views: 52.9ms | ActiveRecord: 17.2ms | Allocations: 65581)


Started GET "/" for ::1 at 2024-07-24 22:53:48 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 93.0ms | Allocations: 62799)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 95.8ms | Allocations: 65161)
Completed 200 OK in 98ms (Views: 72.6ms | ActiveRecord: 24.3ms | Allocations: 65579)


Started GET "/" for ::1 at 2024-07-24 22:54:19 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (3.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 80.5ms | Allocations: 62801)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 83.2ms | Allocations: 65163)
Completed 200 OK in 84ms (Views: 62.8ms | ActiveRecord: 20.9ms | Allocations: 65559)


Started GET "/" for ::1 at 2024-07-24 22:54:50 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (3.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (2.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 93.0ms | Allocations: 62822)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 98.0ms | Allocations: 65184)
Completed 200 OK in 99ms (Views: 72.6ms | ActiveRecord: 25.8ms | Allocations: 65580)


Started GET "/" for ::1 at 2024-07-24 22:55:21 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 67.8ms | Allocations: 62804)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 69.9ms | Allocations: 65178)
Completed 200 OK in 71ms (Views: 52.7ms | ActiveRecord: 17.7ms | Allocations: 65584)


Started GET "/payments/new" for ::1 at 2024-07-24 22:55:36 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 5614)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 7860)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 8228)


Started POST "/payments" for ::1 at 2024-07-24 22:55:46 -0500
Processing by PaymentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "payment"=>{"patient_id"=>"1", "charge"=>"2000", "credit"=>"0.00", "date(1i)"=>"2024", "date(2i)"=>"7", "date(3i)"=>"25", "date(4i)"=>"03", "date(5i)"=>"55", "performed_by"=>"mike"}, "commit"=>"Save Payment"}
Can't verify CSRF token authenticity.
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPatient Load (0.7ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mPayment Create (0.6ms)[0m  [1m[32mINSERT INTO "payments" ("patient_id", "charge", "credit", "date", "performed_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["patient_id", 1], ["charge", "2000.0"], ["credit", "0.0"], ["date", "2024-07-25 03:55:00"], ["performed_by", "mike"], ["created_at", "2024-07-25 03:55:46.943036"], ["updated_at", "2024-07-25 03:55:46.943036"]]
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTransaction Create (2.0ms)[0m  [1m[32mINSERT INTO "transactions" ("patient_id", "charge", "credit", "date", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["patient_id", 1], ["charge", "2000.0"], ["credit", "0.0"], ["date", "2024-07-25 03:55:00"], ["created_at", "2024-07-25 03:55:46.946347"], ["updated_at", "2024-07-25 03:55:46.946347"]]
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:24:in `update_patient_transactions'
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 5.8ms | Allocations: 7171)


Started GET "/" for ::1 at 2024-07-24 22:55:46 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.1ms | Allocations: 62817)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 72.0ms | Allocations: 65179)
Completed 200 OK in 73ms (Views: 54.6ms | ActiveRecord: 17.8ms | Allocations: 65575)


Started GET "/payments/new" for ::1 at 2024-07-24 22:55:55 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 5534)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 7781)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 8148)


Started GET "/" for ::1 at 2024-07-24 22:56:05 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (3.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.3ms | Allocations: 62819)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 72.8ms | Allocations: 65181)
Completed 200 OK in 74ms (Views: 52.2ms | ActiveRecord: 21.0ms | Allocations: 65577)


Started GET "/" for ::1 at 2024-07-24 22:56:35 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (3.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 91.3ms | Allocations: 62836)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 93.5ms | Allocations: 65198)
Completed 200 OK in 94ms (Views: 68.9ms | ActiveRecord: 25.0ms | Allocations: 65594)


Started GET "/" for ::1 at 2024-07-24 22:57:05 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 69.5ms | Allocations: 62837)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 72.7ms | Allocations: 65199)
Completed 200 OK in 74ms (Views: 54.3ms | ActiveRecord: 18.8ms | Allocations: 65595)


Started GET "/" for ::1 at 2024-07-24 22:57:35 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 67.6ms | Allocations: 62820)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 69.5ms | Allocations: 65182)
Completed 200 OK in 70ms (Views: 50.2ms | ActiveRecord: 19.6ms | Allocations: 65578)


Started GET "/" for ::1 at 2024-07-24 22:58:05 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (3.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (2.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 74.7ms | Allocations: 62816)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 76.9ms | Allocations: 65178)
Completed 200 OK in 79ms (Views: 54.6ms | ActiveRecord: 22.8ms | Allocations: 65574)


Started GET "/" for ::1 at 2024-07-24 22:58:35 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (3.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 69.9ms | Allocations: 62842)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 72.0ms | Allocations: 65204)
Completed 200 OK in 73ms (Views: 51.2ms | ActiveRecord: 21.1ms | Allocations: 65600)


Started GET "/" for ::1 at 2024-07-24 22:59:06 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (3.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 78.1ms | Allocations: 62840)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 81.0ms | Allocations: 65202)
Completed 200 OK in 82ms (Views: 57.5ms | ActiveRecord: 23.8ms | Allocations: 65598)


Started GET "/" for ::1 at 2024-07-24 22:59:36 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 67.8ms | Allocations: 62820)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 70.5ms | Allocations: 65182)
Completed 200 OK in 71ms (Views: 54.1ms | ActiveRecord: 16.9ms | Allocations: 65600)


Started GET "/" for ::1 at 2024-07-24 23:00:06 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 67.2ms | Allocations: 62842)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 69.8ms | Allocations: 65204)
Completed 200 OK in 71ms (Views: 50.7ms | ActiveRecord: 19.5ms | Allocations: 65600)


Started GET "/" for ::1 at 2024-07-24 23:00:36 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 93.0ms | Allocations: 62842)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 95.7ms | Allocations: 65204)
Completed 200 OK in 97ms (Views: 71.7ms | ActiveRecord: 24.8ms | Allocations: 65600)


Started GET "/" for ::1 at 2024-07-24 23:01:06 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.3ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 100.8ms | Allocations: 62820)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 103.4ms | Allocations: 65186)
Completed 200 OK in 104ms (Views: 78.3ms | ActiveRecord: 25.4ms | Allocations: 65582)


Started GET "/" for ::1 at 2024-07-24 23:01:36 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (1.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 75.8ms | Allocations: 62843)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 78.2ms | Allocations: 65205)
Completed 200 OK in 79ms (Views: 59.5ms | ActiveRecord: 19.0ms | Allocations: 65601)


Started GET "/" for ::1 at 2024-07-24 23:02:06 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (3.1ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (2.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (3.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 358.0ms | Allocations: 62824)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 360.9ms | Allocations: 65186)
Completed 200 OK in 362ms (Views: 327.0ms | ActiveRecord: 34.4ms | Allocations: 65582)


Started GET "/" for ::1 at 2024-07-24 23:02:37 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (1.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 81.6ms | Allocations: 62819)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 83.7ms | Allocations: 65176)
Completed 200 OK in 85ms (Views: 62.3ms | ActiveRecord: 21.8ms | Allocations: 65571)


Started GET "/" for ::1 at 2024-07-24 23:03:07 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 102.8ms | Allocations: 62815)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 105.4ms | Allocations: 65177)
Completed 200 OK in 106ms (Views: 82.7ms | ActiveRecord: 23.1ms | Allocations: 65573)


Started GET "/" for ::1 at 2024-07-24 23:03:37 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 65.1ms | Allocations: 62813)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 67.2ms | Allocations: 65175)
Completed 200 OK in 68ms (Views: 51.4ms | ActiveRecord: 16.2ms | Allocations: 65571)


Started GET "/" for ::1 at 2024-07-24 23:04:07 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (3.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 80.8ms | Allocations: 62814)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 83.3ms | Allocations: 65176)
Completed 200 OK in 84ms (Views: 60.1ms | ActiveRecord: 23.5ms | Allocations: 65572)


Started GET "/" for 127.0.0.1 at 2024-07-25 00:47:50 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (3.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.2ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 221.3ms | Allocations: 99050)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 224.5ms | Allocations: 101778)
Completed 200 OK in 264ms (Views: 172.3ms | ActiveRecord: 61.9ms | Allocations: 116829)


Started GET "/" for 127.0.0.1 at 2024-07-25 00:48:20 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 84.7ms | Allocations: 63241)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 88.3ms | Allocations: 65636)
Completed 200 OK in 90ms (Views: 68.7ms | ActiveRecord: 20.6ms | Allocations: 66173)


  [1m[36mPayment Load (0.5ms)[0m  [1m[34mSELECT "payments".* FROM "payments" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2024-07-25 10:38:23 -0500
  [1m[36mActiveRecord::SchemaMigration Load (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (8.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 144.5ms | Allocations: 99011)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 150.2ms | Allocations: 101739)
Completed 200 OK in 184ms (Views: 107.2ms | ActiveRecord: 51.2ms | Allocations: 116792)


Started GET "/" for 127.0.0.1 at 2024-07-25 10:38:54 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 71.3ms | Allocations: 63241)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 74.6ms | Allocations: 65624)
Completed 200 OK in 76ms (Views: 56.9ms | ActiveRecord: 18.1ms | Allocations: 66151)


Started GET "/" for 127.0.0.1 at 2024-07-25 10:39:25 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 65.1ms | Allocations: 62822)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 67.7ms | Allocations: 65185)
Completed 200 OK in 69ms (Views: 50.2ms | ActiveRecord: 18.0ms | Allocations: 65593)


Started GET "/" for 127.0.0.1 at 2024-07-25 10:39:56 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.3ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.5ms | Allocations: 62815)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 73.4ms | Allocations: 65177)
Completed 200 OK in 74ms (Views: 55.3ms | ActiveRecord: 18.4ms | Allocations: 65573)


Started GET "/" for 127.0.0.1 at 2024-07-25 11:41:12 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (4.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 149.6ms | Allocations: 99093)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 153.5ms | Allocations: 101821)
Completed 200 OK in 964ms (Views: 120.8ms | ActiveRecord: 43.3ms | Allocations: 1088879)


Started GET "/" for 127.0.0.1 at 2024-07-25 11:41:44 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 80.5ms | Allocations: 63239)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 84.8ms | Allocations: 65630)
Completed 200 OK in 86ms (Views: 65.4ms | ActiveRecord: 19.9ms | Allocations: 66156)


Started GET "/" for 127.0.0.1 at 2024-07-25 11:42:15 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (5.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 75.2ms | Allocations: 62819)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 78.4ms | Allocations: 65177)
Completed 200 OK in 79ms (Views: 54.9ms | ActiveRecord: 23.9ms | Allocations: 65584)


Started GET "/" for 127.0.0.1 at 2024-07-25 11:42:45 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 68.5ms | Allocations: 62811)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 77.8ms | Allocations: 65168)
Completed 200 OK in 79ms (Views: 60.4ms | ActiveRecord: 17.8ms | Allocations: 65564)


Started GET "/" for 127.0.0.1 at 2024-07-25 11:43:15 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.5ms | Allocations: 62849)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 73.8ms | Allocations: 65212)
Completed 200 OK in 75ms (Views: 53.9ms | ActiveRecord: 20.3ms | Allocations: 65620)


Started GET "/" for 127.0.0.1 at 2024-07-25 11:43:45 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 68.5ms | Allocations: 62811)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 71.0ms | Allocations: 65173)
Completed 200 OK in 72ms (Views: 52.4ms | ActiveRecord: 19.2ms | Allocations: 65568)


Started GET "/" for 127.0.0.1 at 2024-07-25 11:48:27 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 93.0ms | Allocations: 99051)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 96.0ms | Allocations: 101772)
Completed 200 OK in 234ms (Views: 74.4ms | ActiveRecord: 27.6ms | Allocations: 397507)


Started GET "/payments/new" for 127.0.0.1 at 2024-07-25 11:48:29 -0500
Processing by PaymentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering payments/new.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered payments/new.html.erb within layouts/application (Duration: 11.2ms | Allocations: 7934)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 10295)
Completed 200 OK in 20ms (Views: 13.4ms | ActiveRecord: 2.6ms | Allocations: 15904)


Started GET "/" for 127.0.0.1 at 2024-07-25 11:48:57 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 63.1ms | Allocations: 63141)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 65.3ms | Allocations: 65501)
Completed 200 OK in 66ms (Views: 48.7ms | ActiveRecord: 16.9ms | Allocations: 65992)


Started GET "/" for 127.0.0.1 at 2024-07-25 11:49:27 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 92.2ms | Allocations: 62844)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 94.5ms | Allocations: 65207)
Completed 200 OK in 95ms (Views: 75.9ms | ActiveRecord: 18.9ms | Allocations: 65615)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:06:45 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.0ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:48:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 68.8ms | Allocations: 53707)
  Rendered layout layouts/application.html.erb (Duration: 69.1ms | Allocations: 53833)
Completed 500 Internal Server Error in 219ms (ActiveRecord: 23.9ms | Allocations: 349525)


  
ActionView::Template::Error (undefined local variable or method `latest_transaction' for #<ActionView::Base:0x0000000000abb8>):
    51:           <td><%= patient.name %></td>
    52:           <td><%= patient.contact_info %></td>
    53:           <td><%= number_to_currency(patient.outstanding_balance) %></td>
    54:           <td><%= latest_transaction&.created_at %></td>
    55:           <td><%= latest_transaction&.performed_by %></td>
    56:         </tr>
    57:       <% end %>
  
app/views/dashboard/index.html.erb:54
app/views/dashboard/index.html.erb:48:in `each'
app/views/dashboard/index.html.erb:48
Started GET "/" for 127.0.0.1 at 2024-07-25 12:08:27 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:48:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 109.6ms | Allocations: 95819)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 112.4ms | Allocations: 98501)
Completed 200 OK in 115ms (Views: 85.3ms | ActiveRecord: 27.9ms | Allocations: 101016)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:08:58 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.9ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:48:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.2ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 114.9ms | Allocations: 79597)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 122.1ms | Allocations: 81956)
Completed 200 OK in 124ms (Views: 93.7ms | ActiveRecord: 29.5ms | Allocations: 82437)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:09:28 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:48:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 91.1ms | Allocations: 79452)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 93.1ms | Allocations: 81809)
Completed 200 OK in 94ms (Views: 68.9ms | ActiveRecord: 24.5ms | Allocations: 82204)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:09:58 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:48:in `sort_by'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:49
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.9ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 ORDER BY "transactions"."created_at" DESC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/views/dashboard/index.html.erb:78
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 92.5ms | Allocations: 79632)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 94.8ms | Allocations: 81994)
Completed 200 OK in 96ms (Views: 70.1ms | ActiveRecord: 25.1ms | Allocations: 82390)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:10:00 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.8ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:48:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 42.6ms | Allocations: 32880)
  Rendered layout layouts/application.html.erb (Duration: 42.8ms | Allocations: 32967)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 17.0ms | Allocations: 35427)


  
ActionView::Template::Error (undefined local variable or method `latest_transaction' for #<ActionView::Base:0x000000000113a0>):
    51:           <td><%= patient.name %></td>
    52:           <td><%= patient.contact_info %></td>
    53:           <td><%= number_to_currency(patient.outstanding_balance) %></td>
    54:           <td><%= latest_transaction&.created_at %></td>
    55:           <td><%= latest_transaction&.performed_by %></td>
    56:         </tr>
    57:       <% end %>
  
app/views/dashboard/index.html.erb:54
app/views/dashboard/index.html.erb:48:in `each'
app/views/dashboard/index.html.erb:48
Started GET "/" for 127.0.0.1 at 2024-07-25 12:10:13 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (0.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 77.6ms | Allocations: 74159)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 79.9ms | Allocations: 76727)
Completed 200 OK in 82ms (Views: 59.6ms | ActiveRecord: 21.0ms | Allocations: 79212)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:10:43 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 61.5ms | Allocations: 62906)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 63.5ms | Allocations: 65264)
Completed 200 OK in 64ms (Views: 47.7ms | ActiveRecord: 16.2ms | Allocations: 65719)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:11:14 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.3ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.6ms | Allocations: 62836)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 73.1ms | Allocations: 65198)
Completed 200 OK in 74ms (Views: 56.1ms | ActiveRecord: 17.4ms | Allocations: 65594)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:11:45 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 68.8ms | Allocations: 62812)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 70.7ms | Allocations: 65174)
Completed 200 OK in 71ms (Views: 53.5ms | ActiveRecord: 17.5ms | Allocations: 65570)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:12:16 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.4ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 70.8ms | Allocations: 62812)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 72.7ms | Allocations: 65169)
Completed 200 OK in 74ms (Views: 55.4ms | ActiveRecord: 17.8ms | Allocations: 65564)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:12:47 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (1.7ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 75.2ms | Allocations: 62819)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 78.2ms | Allocations: 65177)
Completed 200 OK in 79ms (Views: 58.2ms | ActiveRecord: 20.6ms | Allocations: 65586)


Started GET "/" for 127.0.0.1 at 2024-07-25 12:13:29 -0500
Processing by DashboardController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering dashboard/index.html.erb within layouts/application
  [1m[36mPatient Load (2.2ms)[0m  [1m[34mSELECT patients.*, SUM(transactions.charge) - SUM(transactions.credit) AS outstanding_balance FROM "patients" INNER JOIN "transactions" ON "transactions"."patient_id" = "patients"."id" GROUP BY "patients"."id" ORDER BY outstanding_balance DESC, MIN(transactions.date) ASC[0m
  ↳ app/views/dashboard/index.html.erb:46:in `sort_by'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.1ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (1.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.9ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.6ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.7ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.8ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.5ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Sum (0.4ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.2ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mTransaction Load (0.8ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (1.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.6ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.7ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.5ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mTransaction Load (0.4ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 5], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 5]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 3], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 3]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 6], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 6]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 1], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 1]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 9], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 9]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 7], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 7]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 4], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 4]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 2], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 2]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 8], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 8]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Load (0.0ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."patient_id" = $1 AND (charge > credit) ORDER BY "transactions"."date" ASC LIMIT $2[0m  [["patient_id", 10], ["LIMIT", 1]]
  ↳ app/models/patient.rb:9:in `oldest_unpaid_transaction'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."charge") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  [1m[36mCACHE Transaction Sum (0.0ms)[0m  [1m[34mSELECT SUM("transactions"."credit") FROM "transactions" WHERE "transactions"."patient_id" = $1[0m  [["patient_id", 10]]
  ↳ app/models/patient.rb:5:in `outstanding_balance'
  Rendered dashboard/index.html.erb within layouts/application (Duration: 76.6ms | Allocations: 62814)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layout layouts/application.html.erb (Duration: 79.9ms | Allocations: 65176)
Completed 200 OK in 82ms (Views: 58.9ms | ActiveRecord: 21.6ms | Allocations: 65572)


